
<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<HTML><HEAD><TITLE>网虫乐园--泥潭风云</TITLE>
<META content="MSHTML 5.00.2919.6307" name=GENERATOR>
<META content=TLT name=Author>
<META content=text/html;charset=gb2312 http-equiv=content-type>
<style>
<!--      
A:link {text-decoration: none;color:blue}       
.105V         {font-size: 10.5pt; font-family: 宋体;}
TD          {font-size: 9pt; font-family: 宋体;}
.90V         {font-size: 9pt; font-family: 宋体;}
.90VE         {font-size: 9pt; font-family: arial;}
A:hover      {text-decoration: none;color:red;}
A:visited  {text-decoration: none;}
A:active     {text-decoration: none;color:#ff0000}
-->
</style>


<script>
<!--
lstart=50
loop=true
speed=350 
pr_step=5 

function makeObj(obj,nest){
nest=(!nest) ? '':'document.'+nest+'.'
this.css=(document.layers) ? eval(nest+'document.'+obj):eval(obj+'.style')
    this.scrollHeight=document.layers?this.css.document.height:eval(obj+'.offsetHeight')
    this.up=goUp
this.obj = obj + "Object"
eval(this.obj + "=this")
return this
}
function goUp(speed){
    if(parseInt(this.css.top)>-this.scrollHeight){
        this.css.top=parseInt(this.css.top)-pr_step
        setTimeout(this.obj+".up("+speed+")",speed)
    }else if(loop) {
        this.css.top=lstart
        eval(this.obj+".up("+speed+")")
    }
}
function slideInit(){
    oSlide=makeObj('divNews','divCont')
    oSlide.css.top=lstart
    oSlide.up(speed)
}
onload=slideInit
//-->
</script></head>

<body aLink="#660033" bgColor="#ffffff" leftMargin="0" text=darkgreen link="#000066" vLink="#000066"
topMargin="0" >
<div align="center"><center>
   <table border="1" width="776" borderColor=#ffffff borderColorLight=#ab9c36  align="center" bgColor=#f0f3dc cellPadding=0 cellSpacing=0 >
      <tr>
        <td align="center" width="97"><P align=center><img src=http://202.114.98.14/images/home.gif width=15 height=15><a href=http://202.114.98.14/>网虫乐园首页</a></td> 
        <td align="center" width="97"><P align=center><img src=http://202.114.98.14/images/soft.gif height=15 width=15 border=0><a href="http://202.114.98.12/softroom/">软件大观园</a></td>
        <td align="center" width="97"><P align=center><img src=http://202.114.98.14/images/mud.gif height=15 width=15 border=0><a href="http://202.114.98.14/mud/">泥潭风云</font></a></td>
        <td align="center" width="97"><P align=center><img src=http://202.114.98.14/images/freeweb.gif height=15 width=15 border=0><a href="http://202.114.98.14/freeweb/">个人主页空间</a></td>  
        <td align="center" width="97"><P align=center><img src=http://202.114.98.14/images/bbs.gif height=15 width=15 border=0><a href=http://202.114.98.14/bbs/>网虫社区</a></td>
        <td align="center" width="97"><P align=center><img src=http://202.114.98.14/images/webresource.gif height=15 width=15 border=0><a href="http://202.114.98.14/webresource/">Web资源角</a></td>
        <td align="center" width="97"><P align=center><img src=http://202.114.98.14/images/show.gif height=15 width=15 border=0><a href="#" onclick="window.open('http://202.114.98.14/show/','','menubar=no,toolbar=no,location=no,directories=no,status=no,resizable=1,scrollbars=1,width=800,height=600,top=0,left=0');">秀网珍藏</a></td>
        <td align="center" width="97"><P align=center><img src=http://202.114.98.14/images/links1.gif height=15 width=15 border=0><a href=http://202.114.98.14/links/>友情链接</a></td>
      </tr>
    </table></center>

<table bgcolor=white width=770 border=1 borderColor=#ffffff borderColorLight=#ab9c36   cellpadding=0 cellspacing=0>
   <tr><td><table bgcolor=white width=770 border=0 cellpadding=0 cellspacing=0>
   <tr><td width=180 height=60><img src=http://202.114.98.14/images/netbugs1.gif width=180 height=60></td>
   <td align=center width=468 valign=center  bgcolor=white><script src="http://202.114.98.14/ad1.js" width=468 height=60 border=0></script></td>
   <td width=112 bgcolor=white><div id="divCont"
style="position:absolute; width:110; height:60; top:25; left:660; clip:rect(0,110,60,0)"><div
id="divNews" style="position:absolute; top:0; left:0">

<p>欢迎光临网虫乐园！<a href=http://202.114.98.14/>首页</a>有网站各子站最新变动介绍和
教育网酷站连接。<p><a href=http://202.114.98.12/softroom/>软件大观园</a>每日更新；收藏3G软件，均为最新版本。
<p><a href=http://202.114.98.14/mud>泥潭风云</a>是教育网内最大的mud站点；<a href=http://202.114.98.14/webresource>Web资源角</a>有三千多动画和背景为你网页增添色彩。
<p><a href=http://202.114.98.14/freeweb/>10M免费个人主页空间</a>，ftp维护；申请三日内批准。<p><a href=http://202.114.98.14/show>秀网珍藏</a>图片近2G，栏目众多，包罗万象，每日都有大量图片增加。
<p>对我们网站的建设的建议欢迎<a href=mailto:softroom@wuhee.edu.cn>来信</a>或写在<a href=http://202.114.98.14/bbs>社区</a>内。</p>
</div></div>
</td>
   </tr>
   </table>
</td></tr></table>

<center>
   <table border="1" width="770" borderColor=#ffffff borderColorLight=#ab9c36  align="center" bgColor=#f0f3dc cellPadding=0 cellSpacing=0 >
      <tr>
        <td align="center" width="96"><P align=center><A href="http://202.114.98.14/mud/index.htm">首页</A></td> 
        <td align="center" width="96"><P align=center><A href="http://202.114.98.14/mud/newcomer/">泥巴入门</A></td>
        <td align="center" width="96"><P align=center><A href="http://202.114.98.14/mud/player/">泥巴进阶</A></td>
        <td align="center" width="96"><P align=center><A href="http://202.114.98.14/mud/source/">泥巴资源</A></td>  
        <td align="center" width="96"><P align=center><A 
        href="http://202.114.98.14/mud/pmud/">图形泥巴</A></td>
        <td align="center" width="96"><P align=center><A href="http://202.114.98.14/mud/mudlife/">泥巴人生</A></td>
        <td align="center" width="96"><P align=center><A href="http://202.114.98.14/mud/wiz/">巫师乐园</FONT></A></td>
        <td align="center" width="96"><P align=center><A href="http://202.114.98.14/mud/download/">软件下载</A>            <SCRIPT>
   document.write("<a href=http://webpub.au.tsinghua.edu.cn/count/count.dll?Type=Basic&id=2138&ReferID=2138 target=_blank>");
   document.write("<img src=http://webpub.au.tsinghua.edu.cn/count/count.dll?Type=Img2&add=1&id=2138&refer="+escape(top.document.referrer)+" border=0 alt=酷站今日访问 width=12 height=12>");
   </SCRIPT></td>

      </tr>
    </table></center>
    


<table border="0" width="100%" style="color: rgb(255,255,0)" cellspacing="0" cellpadding="0">
  <tr>
    <td width="8%" rowspan="4"></td>
    <td width="83%"><p align="center"><font color="#000000">LPC语言<br>
    ―――――――――――――――――――――<br>
    <font size="2">综合地介绍MUD编程语言（LPC）<br>
    ―――――――――――――――――――――――――</font></font></td>
    <td width="9%" rowspan="4"></td>
  </tr>
  <tr>
    <td width="83%"><p align="center"><font color="#000000">LPC语言精讲（2）</td>
  </tr>
  <tr>
    <td width="83%"><font color="#000000">第一章 Lpc程序和编程环境<br>
    第一节，编程环境<br>
    通常我们所见到的Mud大多是LpMud。LpMuds使用Unix的指令和<br>
    文件结构。如果你对Unix有所了解，那么LpMud中的一些指令和它的文件结构与普通的Unix基本一样。如果你从未使用过Unix，那么它Dos不同的是在文件的路径用&quot;/&quot;，而不是Dos的&quot;\&quot;.一个典型的LpMud的文件是这样的:<br>
    /clone/player/player.c<br>
    &quot;/clone/player/&quot;是路径，player.c是文件名。在多数的LpMud中，下面这些的基本的Unix指令是可以使用的：<br>
    pwd, cd, ls, rm, mv, cp, mkdir, rmdir, more, tail, cat, ed如果从未使用过Unix，那么下面这张表也许是有用的。<br>
    pwd: 显示当前目录cd: 改换你当前的工作目录，和Dos的cd一样。<br>
    ls: 
    列出指定目录下的所有文件，如果没有指定任何目录，那就列出当前目录底下的文件。和Dos的dir一样。<br>
    rm: 删除一个文件 和Dos的rmdir一样<br>
    mv: 从命名一个文件 和Dos的move一样<br>
    cp: 复制一个文件 和Dos的copy一样<br>
    mkdir: 创建一个目录<br>
    rmdir: 删除一个目录<br>
    more: 按页显示一个文件在你的当前屏幕。<br>
    cat: 显示整个文件。和Dos的type一样。<br>
    tail: 现在一个文件的结尾几行。<br>
    ed: 允许你使用Mud自带的编辑器，编辑一个文件。<br>
   <br>
    第二节 Lpc程序<br>
    2.1 Lpc程序。<br>
    Lpc的程序看起来和一般的C区别不断大，语法基本一样，但是<br>
    Lpc和一般的语言有着根本的不同，Lpc程序是编写一个一个的&quot;Object&quot;。这有什么区别呢？一般的程序是在执行过程中，通常有一个明显的开始和和结束。程序从一个地方开始，然后顺序执行下去，到了结束的地方就中断了。Lpc的Object不是这样的。所谓的不同的Mud，实际上是一些不同的Lpc的Object在一个Driver的上的各种不同的表现。也就说，Lpc的Object是运行在一个Driver上的。这些Object组成了LpMud的丰富多彩的世界。Driver几乎不参与创建你所接触到的世界，它所完成的工作只是让那些Lpc的Object活动起来。Lpc的Object可能没有明显的开始和结束的标志，它可能永远在工作。 
    和一般的程序一样，Lpc“程序”也是由一个或多个文件组成。一个Lpc的Object是按如下方式被执行的：Driver把和这个Object相关的文件读入内存，然后解释执行。但是要记住的是，读入内存，并不是说，它就开始按顺序执行。<br>
    2.2 Driver和Mudlib关系<br>
    在有些游戏中，整个游戏包括Driver和游戏世界都用C写好，这样能快一些，但是游戏的扩充性很差，巫师们不可能在游戏进行中添加任何东西。LpMud则相反。Driver理论上应该和玩家所接触的世界几乎没有任何直接的联系。游戏世界应该是自己独立的，而且是“即玩即加”的。这就是为什么LpMud使用Lpc作为编程语言的原因。它允许你创建一个游戏世界，再由Driver在需要时读入解释执行。Lpc甚至比C更简单，更容易明白，但是它可以创建一个可以让许多人在上面游戏的世界。在你写完一个Lpc的文件时，它存在于主机的硬盘上。在游戏进行中，当需要整个Object时，这份文件将被调入内存，一个特殊的函数被调用来初始化这个Object的一些变量。现在你不用关心什么是<br>
    变量，什么是函数以及游戏本身怎样来调用这个object，你只要记住Driver从硬盘中读入一个文件，然后放在内存中，如果没有任何错误的话。<br>
    2.3 一个Object被装人内存。<br>
    一个Object不会也不必有一个特点的地方让Driver去执行它，通常Drvier会在Object中找一个地方去初始化它。一般都是这个函数叫做create()。Lpc的Object是一些变量(它的值能变化)和函数(函数通常是用来操纵那些变量的一段程序)的组合。函数操纵变量的方式有：调用其他函数，使用Driver内部定义的函数(efun)，基本的Lpc表达式以及流控制。我们来看个变量的例子: 
    wiz_level。这个变量记录你的巫师等级，如果是0呢，通常是普普通通的玩家了。这个值如果越大就表示你的巫师等级越高。这个也同时控制了你能不能执行一些巫师指令。基本上来说，一个Object就是一些变量“堆”在一起的东西。一个Object改变了，也就是某一个或者一些变量改变了。总的来说，一个Object如果要被内存中的另一个Object调用，Driver会去找这个Object的那堆变量放在哪里，如果这些变量没有值，那么Driver会调用一个特定的函数create来初始化这些变<br>
    量。但是create()不是Lpc代码开始执行的地方，只是大多数的Object从这里开始。事实上，create()可以不存在。如果这个Object不需要对变量初始化，那么create()可以不存在。那么这样的Object开始执行的地方就完全的不同于一般的Object，可以从任何地方开始。那么究竟什么是Lpc的Object？Lpc的Object就是一堆变量的集合，它带有一个或者更多的函数来操纵控制这些变量，函数的排列顺序是无所谓的，随便那个排在前面对这个Object的特性没有影响。</td>
  </tr>
  <tr>
    <td width="83%"><p align="center"><a href="lpc_1.asp">上一篇</a> 
    &nbsp;&nbsp;&nbsp;&nbsp; <a href="lpc_3.asp">下一篇</a></td>
  </tr>
</table>
   <TABLE border=0 cellPadding=0 cellSpacing=0 width=730>
  <TBODY>
  <TR>
    <TD bgColor=#000033 colSpan=3 height=2>
    </TD>
  </TR>
  </TBODY>
</TABLE>
<P>
<CENTER><FONT color=#919191 face=ARIAL,HELVETICA size=-1>对我们网站的建议和合作请与<A 
href="mailto:softroom@wuhee.edu.cn">mailto:softroom@wuhee.edu.cn</A>联系.<BR><BR>Copyright 
(C) 2000 网虫乐园工作室.<script src="http://202.114.98.14/count.js" width=468 height=60 border=0></script></FONT>
<P></P></CENTER></CENTER></CENTER></DIV></BODY></HTML>
