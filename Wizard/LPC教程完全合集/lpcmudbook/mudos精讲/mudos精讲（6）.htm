
<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<HTML><HEAD><TITLE>网虫乐园--泥潭风云</TITLE>
<META content="MSHTML 5.00.2919.6307" name=GENERATOR>
<META content=TLT name=Author>
<META content=text/html;charset=gb2312 http-equiv=content-type>
<style>
<!--      
A:link {text-decoration: none;color:blue}       
.105V         {font-size: 10.5pt; font-family: 宋体;}
TD          {font-size: 9pt; font-family: 宋体;}
.90V         {font-size: 9pt; font-family: 宋体;}
.90VE         {font-size: 9pt; font-family: arial;}
A:hover      {text-decoration: none;color:red;}
A:visited  {text-decoration: none;}
A:active     {text-decoration: none;color:#ff0000}
-->
</style>


<script>
<!--
lstart=50
loop=true
speed=350 
pr_step=5 

function makeObj(obj,nest){
nest=(!nest) ? '':'document.'+nest+'.'
this.css=(document.layers) ? eval(nest+'document.'+obj):eval(obj+'.style')
    this.scrollHeight=document.layers?this.css.document.height:eval(obj+'.offsetHeight')
    this.up=goUp
this.obj = obj + "Object"
eval(this.obj + "=this")
return this
}
function goUp(speed){
    if(parseInt(this.css.top)>-this.scrollHeight){
        this.css.top=parseInt(this.css.top)-pr_step
        setTimeout(this.obj+".up("+speed+")",speed)
    }else if(loop) {
        this.css.top=lstart
        eval(this.obj+".up("+speed+")")
    }
}
function slideInit(){
    oSlide=makeObj('divNews','divCont')
    oSlide.css.top=lstart
    oSlide.up(speed)
}
onload=slideInit
//-->
</script></head>

<body aLink="#660033" bgColor="#ffffff" leftMargin="0" text=darkgreen link="#000066" vLink="#000066"
topMargin="0" >
<div align="center"><center>
   <table border="1" width="776" borderColor=#ffffff borderColorLight=#ab9c36  align="center" bgColor=#f0f3dc cellPadding=0 cellSpacing=0 >
      <tr>
        <td align="center" width="97"><P align=center><img src=http://202.114.98.14/images/home.gif width=15 height=15><a href=http://202.114.98.14/>网虫乐园首页</a></td> 
        <td align="center" width="97"><P align=center><img src=http://202.114.98.14/images/soft.gif height=15 width=15 border=0><a href="http://202.114.98.12/softroom/">软件大观园</a></td>
        <td align="center" width="97"><P align=center><img src=http://202.114.98.14/images/mud.gif height=15 width=15 border=0><a href="http://202.114.98.14/mud/">泥潭风云</font></a></td>
        <td align="center" width="97"><P align=center><img src=http://202.114.98.14/images/freeweb.gif height=15 width=15 border=0><a href="http://202.114.98.14/freeweb/">个人主页空间</a></td>  
        <td align="center" width="97"><P align=center><img src=http://202.114.98.14/images/bbs.gif height=15 width=15 border=0><a href=http://202.114.98.14/bbs/>网虫社区</a></td>
        <td align="center" width="97"><P align=center><img src=http://202.114.98.14/images/webresource.gif height=15 width=15 border=0><a href="http://202.114.98.14/webresource/">Web资源角</a></td>
        <td align="center" width="97"><P align=center><img src=http://202.114.98.14/images/show.gif height=15 width=15 border=0><a href="#" onclick="window.open('http://202.114.98.14/show/','','menubar=no,toolbar=no,location=no,directories=no,status=no,resizable=1,scrollbars=1,width=800,height=600,top=0,left=0');">秀网珍藏</a></td>
        <td align="center" width="97"><P align=center><img src=http://202.114.98.14/images/links1.gif height=15 width=15 border=0><a href=http://202.114.98.14/links/>友情链接</a></td>
      </tr>
    </table></center>

<table bgcolor=white width=770 border=1 borderColor=#ffffff borderColorLight=#ab9c36   cellpadding=0 cellspacing=0>
   <tr><td><table bgcolor=white width=770 border=0 cellpadding=0 cellspacing=0>
   <tr><td width=180 height=60><img src=http://202.114.98.14/images/netbugs1.gif width=180 height=60></td>
   <td align=center width=468 valign=center  bgcolor=white><script src="http://202.114.98.14/ad1.js" width=468 height=60 border=0></script></td>
   <td width=112 bgcolor=white><div id="divCont"
style="position:absolute; width:110; height:60; top:25; left:660; clip:rect(0,110,60,0)"><div
id="divNews" style="position:absolute; top:0; left:0">

<p>欢迎光临网虫乐园！<a href=http://202.114.98.14/>首页</a>有网站各子站最新变动介绍和
教育网酷站连接。<p><a href=http://202.114.98.12/softroom/>软件大观园</a>每日更新；收藏3G软件，均为最新版本。
<p><a href=http://202.114.98.14/mud>泥潭风云</a>是教育网内最大的mud站点；<a href=http://202.114.98.14/webresource>Web资源角</a>有三千多动画和背景为你网页增添色彩。
<p><a href=http://202.114.98.14/freeweb/>10M免费个人主页空间</a>，ftp维护；申请三日内批准。<p><a href=http://202.114.98.14/show>秀网珍藏</a>图片近2G，栏目众多，包罗万象，每日都有大量图片增加。
<p>对我们网站的建设的建议欢迎<a href=mailto:softroom@wuhee.edu.cn>来信</a>或写在<a href=http://202.114.98.14/bbs>社区</a>内。</p>
</div></div>
</td>
   </tr>
   </table>
</td></tr></table>

<center>
   <table border="1" width="770" borderColor=#ffffff borderColorLight=#ab9c36  align="center" bgColor=#f0f3dc cellPadding=0 cellSpacing=0 >
      <tr>
        <td align="center" width="96"><P align=center><A href="http://202.114.98.14/mud/index.htm">首页</A></td> 
        <td align="center" width="96"><P align=center><A href="http://202.114.98.14/mud/newcomer/">泥巴入门</A></td>
        <td align="center" width="96"><P align=center><A href="http://202.114.98.14/mud/player/">泥巴进阶</A></td>
        <td align="center" width="96"><P align=center><A href="http://202.114.98.14/mud/source/">泥巴资源</A></td>  
        <td align="center" width="96"><P align=center><A 
        href="http://202.114.98.14/mud/pmud/">图形泥巴</A></td>
        <td align="center" width="96"><P align=center><A href="http://202.114.98.14/mud/mudlife/">泥巴人生</A></td>
        <td align="center" width="96"><P align=center><A href="http://202.114.98.14/mud/wiz/">巫师乐园</FONT></A></td>
        <td align="center" width="96"><P align=center><A href="http://202.114.98.14/mud/download/">软件下载</A>            <SCRIPT>
   document.write("<a href=http://webpub.au.tsinghua.edu.cn/count/count.dll?Type=Basic&id=2138&ReferID=2138 target=_blank>");
   document.write("<img src=http://webpub.au.tsinghua.edu.cn/count/count.dll?Type=Img2&add=1&id=2138&refer="+escape(top.document.referrer)+" border=0 alt=酷站今日访问 width=12 height=12>");
   </SCRIPT></td>

      </tr>
    </table></center>
    



<table border="0" width="100%" style="color: rgb(255,255,0)" cellspacing="0"
cellpadding="0">
  <tr>
    <td width="8%" rowspan="4"><p align="center">　</p>
    <p align="center">　</p>
    <small><p align="center"></small>　</td>
    <td width="67%" align="center"><font color="#000000">MUDOS<br>
    ―――――――――――――――――――――<br>
    <font size="2">综合地介绍MUD运行平台（MUDOS）<br>
    ―――――――――――――――――――――――――</font></td>
    <td width="8%" rowspan="4"></td>
  </tr>
  <tr>
    <td width="67%" align="center"><font color="#000000">mudos精讲（6）</td>
  </tr>
  <tr>
    <td width="67%" align="center"><p align="left"><font color="#000000"><br>
    functionp(3) LP MudOSv21c7 (7 Jul 1996)<br>
    <br>
    函数名称:<br>
    functionp() - 判断指定的变数是否为一个函式指标<br>
    (function pointer). 如果是函式指标,<br>
    则再判断为何种型态.<br>
    函数语法:<br>
    int functionp( mixed arg );<br>
    <br>
    整数 functionp( 混合 arg );<br>
    函数用法:<br>
    如果 arg 是一个函式指标则传回非零值 (nonzero), 如果<br>
    不是则传回 0.<br>
    函式指标是一种「函式」(function) 型态的指标变数.<br>
    以下是一个□例:<br>
    <br>
    f = (: obj, func :);<br>
    <br>
    传回的值指示出函式指标的型态, 而这些传回值被定义在<br>
    驱动程式中的 &quot;include/function.h&quot; 档案中.<br>
    <br>
    function pointer type value<br>
    ---------------------------------------------<br>
    call_other FP_CALL_OTHER<br>
    lfun FP_LOCAL<br>
    efun FP_EFUN<br>
    simul_efun FP_SIMUL<br>
    functional FP_FUNCTIONAL<br>
    <br>
    另外在某些情形下, 会加上以下的值:<br>
    <br>
    (有参数) FP_HAS_ARGUMENTS<br>
    (创造函式的物件被摧毁) FP_OWNER_DESTED<br>
    (函式无法连结) FP_NOT_BINDABLE<br>
    <br>
    最後三个值为位元值 (bit value), 可以用位元测试.<br>
    FP_MASK 可以忽略这些位元值, 测试基本的函式指标型态<br>
    <br>
    □例:<br>
    <br>
    测试一个函式指标变数是否为超越函式指标:<br>
    <br>
    if ((functionp(f) &amp; FP_MASK) == FP_EFUN) ...<br>
    <br>
    测试其是否有参数:<br>
    <br>
    if (functionp(f) &amp; FP_HAS_ARGUMENTS) ...<br>
    参考函数:<br>
    mapp(3), stringp(3), pointerp(3), objectp(3), intp(3),<br>
    bufferp(3), floatp(3), nullp(3), undefinedp(3),<br>
    errorp(3), bind(3), lpc/types/function<br>
    手册翻译:<br>
    Phoebus@ZH 97.Jul.26. (Writen 5/23/97)<br>
    <br>
    file_size(3) LP MudOSv21c7 (7 Jul 1996)<br>
    <br>
    函数名称:<br>
    file_size() - 取得档案的大小.<br>
    函数语法:<br>
    int file_size( string file );<br>
    <br>
    整数 file_size( 字串 file );<br>
    函数用法:<br>
    file_size() 传回档案 file 的位元数. 传回 -1 代表 file<br>
    不存在, 或是您的权限无法读写此档案. 传回 -2 则代表<br>
    file 是一个目录.<br>
    参考函数:<br>
    stat(3), get_dir(3)<br>
    手册翻译:<br>
    Phoebus@ZH 97.Feb.12. (Writen 5/23/97)<br>
    <br>
    filter_array(3) LP MudOSv21c7 (7 Jul 1996)<br>
    <br>
    函数名称:<br>
    filter_array() - 传回一个过滤旧阵列内容的新阵列.<br>
    函数语法:<br>
    mixed *filter_array( mixed *arr, string fun, object ob,<br>
    mixed extra, ... );<br>
    mixed *filter_array( mixed *arr, function f,<br>
    mixed extra, ... );<br>
    <br>
    混合 *filter_array( 混合 *arr, 字串 fun, 物件 ob,<br>
    混合 extra, ... );<br>
    混合 *filter_array( 混合 *arr, 函式 f,<br>
    混合 extra, ... );<br>
    函数用法:<br>
    filter_array() 传回一个阵列, 这个阵列里保留 arr 经过<br>
    物件 ob 中的函式 fun 过滤之後的结果. 每一个在阵列 arr<br>
    中的元素 (element) 会呼叫函式 fun 一次, 并且当成 fun<br>
    的参数 (parameter). 如果指定参数 extra 与之後的参数,<br>
    则在每一次呼叫函式 fun 时当成第二、第三个参数....一个<br>
    物件在 fun 传回 1 之後, 才视为成功地通过 fun 的过滤<br>
    (之後物件也包含在传回的阵列中) . 在第二种语法中, 如果<br>
    指定的参数是函式 f, 就与第一种语法中的 ob-&gt;fun() 的用<br>
    法相同. 如果 arr 不是一个阵列, filter_array() 传回 0.<br>
    参考函数:<br>
    sort_array(3), map_array(3)<br>
    手册翻译:<br>
    Phoebus@ZH 97.Feb.12. (Writen 5/23/97)<br>
    <br>
    filter_mapping(3) LP MudOSv21c7 (7 Jul 1996)<br>
    <br>
    函数名称:<br>
    filter_mapping() - 以一个函数为准, 移除一个映射变数<br>
    中的某些元素.<br>
    函数语法:<br>
    mapping filter_mapping( mapping map, string fun,<br>
    object ob, mixed extra, ... );<br>
    mapping map_mapping( mapping map, function f,<br>
    mixed extra, ... );<br>
    <br>
    映射 filter_mapping( 映射 map, 字串 fun,<br>
    物件 ob, 混合 extra, ... );<br>
    映射 filter_mapping( 映射 map, 函式 f,<br>
    混合 extra, ... );<br>
    函数用法:<br>
    传回一个与 map 有相同关键字 (keys) 的映射变数, 而<br>
    map 中的所有项目 (item) 都会经过 ob-&gt;fun() 或 f<br>
    的过滤. 每一个在 map 中的元素都会呼叫 fun 或 f<br>
    一次, 而函式 fun 或 f 的传回值会放在每一个项目之後.<br>
    参数:<br>
    filter_array(3), sort_array(3), map(3)<br>
    手册翻译:<br>
    Phoebus@ZH 97.Feb.12. (Writen 5/23/97)<br>
    <br>
    find_call_out LP MudOSv21c7 (7 Jul 1996)<br>
    函数名称:<br>
    find_call_out() - 找到行程中下一个会被呼叫的点召<br>
    (call out)<br>
    函数语法:<br>
    int find_call_out( string func ):<br>
    <br>
    整数 find_call_out( 字串 func );<br>
    函数用法:<br>
    因为执行函式 func 而找到第一个点召 (call out),<br>
    并传回剩下的时间. 如果无法找到则传回 -1.<br>
    参考函数:<br>
    call_out(3), remove_call_out(3), set_heart_beat(3)<br>
    手册翻译:<br>
    Phoebus@ZH 97.Feb.12. (Writen 5/23/97)<br>
    <br>
    find_living(3) LP MudOSv21c7 (7 Jul 1996)<br>
    <br>
    函数名称:<br>
    find_living() - 找出一个指定识别名称 (id) 的活<br>
    (living) 物件<br>
    函数语法:<br>
    object find_living( string str );<br>
    <br>
    物件 find_living( 字串 str );<br>
    函数用法:<br>
    首先找标记为活著的 (living) , 并符合识别名称 (id) 为<br>
    str 的物件. 已经呼叫过 enable_commands() 的物件才被<br>
    视为活著的物件. 并且此物件必须以 set_living_name()<br>
    设定名称, 此一名称才会放进搜寻表 (hash table) 中以提<br>
    升寻找活物件的速度.<br>
    参考函数:<br>
    living(3), livings(3), find_player(3), users(3),<br>
    enable_commands(3), set_living_name(3)<br>
    手册翻译:<br>
    Phoebus@ZH 97.Feb.12. (Writen 5/23/97)<br>
    <br>
    find_object(3) LP MudOSv21c7 (7 Jul 1996)<br>
    <br>
    函数名称:<br>
    find_object() - 以指定的档案名称寻找一个物件.<br>
    函数语法:<br>
    object find_object( string str );<br>
    <br>
    物件 find_object( 字串 str );<br>
    函数用法:<br>
    用档案名称 str 寻找一个物件. 如果要寻找的物件是一个复<br>
    制出来的物件, 亦可以用 file_name() 传回的档案名称作为<br>
    参数来寻找.<br>
    参考函数:<br>
    file_name(3), stat(3)<br>
    手册翻译:<br>
    Phoebus@ZH 97.Feb.12. (Writen 5/23/97)<br>
    <br>
    find_player(3) LP MudOSv21c7 (7 Jul 1996)<br>
    <br>
    函数名称:<br>
    find_player() - 用名字寻找一个玩家<br>
    函数语法:<br>
    object find_player( string str );<br>
    <br>
    物件 find_player( 字串 str );<br>
    函数用法:<br>
    与 find_living() 相似, 但是只寻找可互动的 (interactive)<br>
    或是曾经为可互动的物件.<br>
    参考函数:<br>
    lower_case(3), find_living(3), livings(3), users(3),<br>
    set_living_name(3)<br>
    手册翻译:<br>
    Phoebus@ZH 97.Feb.12. (Writen 5/23/97)<br>
    <br>
    first_inventory(3) LP MudOSv21c7 (7 Jul 1996)<br>
    <br>
    函数名称:<br>
    first_inventory() - 传回一个物件内含的第一件物品<br>
    函数语法:<br>
    object first_inventory( mixed ob );<br>
    <br>
    物件 first_inventory( 混合ob );<br>
    函数用法:<br>
    传回物件 ob 内含的第一件物品, ob 可以是一个物件或是<br>
    物件的档案名称.<br>
    参考函数:<br>
    file_name(3), next_inventory(3), all_inventory(3),<br>
    deep_inventory(3)<br>
    手册翻译:<br>
    Phoebus@ZH 97.Feb.12. (Writen 5/23/97)<br>
    <br>
    floatp(3) LP MudOSv21c7 (7 Jul 1996)<br>
    <br>
    函数名称:<br>
    floatp() - 判断指定的变数是否为浮点数<br>
    函数语法:<br>
    int floatp( mixed arg );<br>
    <br>
    整数 floatp( 混合 arg );<br>
    函数用法:<br>
    如果 arg 是一个浮点数则传回 1, 如果不是传回 0.<br>
    参考函数:<br>
    mapp(3), stringp(3), pointerp(3), objectp(3), intp(3),<br>
    bufferp(3), functionp(3), nullp(3), undefinedp(3),<br>
    errorp(3)<br>
    手册翻译:<br>
    Phoebus@ZH 97.Feb.12. (Writen 5/23/97)<br>
    <br>
    floor(3) LP MudOSv21c7 (7 Jul 1996)<br>
    <br>
    函数名称:<br>
    floor() - 找到最靠近一个浮点数, 而小於或等於此<br>
    浮点数的整数, 意即把一个浮点数的小数<br>
    位舍去.<br>
    函数语法:<br>
    float floor( float f );<br>
    <br>
    浮点数 floor( 浮点数 f );<br>
    函数用法:<br>
    传回一个最靠近浮点数 f, 而等於或小於 f 的整数.<br>
    参考函数:<br>
    ceil(3), to_int(3), to_float(3)<br>
    手册翻译:<br>
    Phoebus@ZH 97.Feb.12. (Writen 5/23/97)<br>
    <br>
    function_exists(3) LP MudOSv21c7 (7 Jul 1996)<br>
    <br>
    函数名称:<br>
    function_exists() - 找出含有指定函式的档案.<br>
    函数语法:<br>
    string function_exists( string str, object ob );<br>
    <br>
    字串 function_exists( 字串 str, 物件 ob );<br>
    函数用法:<br>
    传回定义有函式 str 之物件 ob 的档案名称. 如果函式<br>
    str 是被定义在 ob 所继承的物件中, 传回的档案名称可<br>
    能会与 file_name( ob ) 传回的不同.<br>
    <br>
    如果物件 ob 中没有定义函式 str 则传回 0.<br>
    <br>
    注意, function_exists() 不会检查 ob 的投影物件<br>
    (shadows).<br>
    参考函数:<br>
    call_other(3), call_out(3), functionp(3),<br>
    valid_shadow(4)<br>
    手册翻译:<br>
    Phoebus@ZH 97.Feb.12. (Writen 5/23/97)<br>
    <br>
    function_profile(3) LP MudOSv21c7 (7 Jul 1996)<br>
    <br>
    函数名称:<br>
    function_profile() - 对一个物件取得函式的侧写<br>
    (profiling) 资讯.<br>
    函数语法:<br>
    mixed *function_profile( object ob );<br>
    <br>
    混合 *function_profile( 物件 ob );<br>
    函数用法:<br>
    传回对 ob 或是 this_object() (如果不予指定 ob ) 的<br>
    函式侧写资讯. 这个函式只有在驱动程式 (driver) 编译<br>
    时有定义 PROFILE_FUNCTIONS 才有效.<br>
    传回值:<br>
    此函式传回一个映射变数的阵列, 每一个在 ob 中的函式<br>
    传回的映射格式如下:<br>
    <br>
    ([ &quot;name&quot; : 函式的名称,<br>
    &quot;calls&quot; : 呼叫的次数,<br>
    <br>
    /* cpu 时间以微秒 (microsecond) 为单位 */<br>
    &quot;self&quot; : cpu_time_spent_in self,<br>
    &quot;children&quot; : cpu_time_spent_in_children<br>
    ])<br>
    <br>
    此处的用途与 CPU 时脉有关, 虽然单位为微秒<br>
    (microseconds), 但实际上的精确度要差得多.<br>
    参考函数:<br>
    rusage(3), time_expression(3), opcprof(3)<br>
    手册翻译:<br>
    Phoebus@ZH 97.Jul.26. (Writen 5/23/97)<br>
    <br>
    file_name(3) LP MudOSv21c7 (7 Jul 1996)<br>
    <br>
    函数名称:<br>
    file_name() - 取得一个物件的档案名称.<br>
    函数语法:<br>
    string file_name( object ob );<br>
    <br>
    字串 file_name( 物件 ob );<br>
    函数用法:<br>
    file_name() 传回载入 ob 时所用的档案名称. 如果物件是<br>
    复制出来的, 则 file_name() 传回的名称并不是实际上磁<br>
    碟中所用的名称, 而是在原来的档案名称之後加上「#」 号<br>
    , 再加上物件的复制编号. 当游戏启动时, 物件的复制编号<br>
    从 0 开始起算, 每复制一个相同的物件就增加一号. 所以<br>
    每一个复制出来的物件都有自己独特的编号. 如果没有指定<br>
    ob, 则 ob 预设为 this_object().<br>
    手册翻译:<br>
    Phoebus@ZH 97.Feb.12. (Writen 5/23/97)<br>
    </td>
  </tr>
  <tr>
    <td width="67%" align="center"><font size="2"><a href="mudos5.asp">上一篇</a> 
    &nbsp;&nbsp;&nbsp;&nbsp; <a href="mudos7.asp">下一篇</a></font></td>
  </tr>
</table>

   <TABLE border=0 cellPadding=0 cellSpacing=0 width=730>
  <TBODY>
  <TR>
    <TD bgColor=#000033 colSpan=3 height=2>
    </TD>
  </TR>
  </TBODY>
</TABLE>
<P>
<CENTER><FONT color=#919191 face=ARIAL,HELVETICA size=-1>对我们网站的建议和合作请与<A 
href="mailto:softroom@wuhee.edu.cn">mailto:softroom@wuhee.edu.cn</A>联系.<BR><BR>Copyright 
(C) 2000 网虫乐园工作室.<script src="http://202.114.98.14/count.js" width=468 height=60 border=0></script></FONT>
<P></P></CENTER></CENTER></CENTER></DIV></BODY></HTML>
