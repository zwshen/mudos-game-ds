<HTML>
<HEAD>
<TITLE>BBSË®Ä¾Çå»ªÕ¾¡Ã¾«»ªÇø</TITLE>
</HEAD>
<BODY>
<CENTER><H1>BBSË®Ä¾Çå»ªÕ¾¡Ã¾«»ªÇø</H1></CENTER>
<A Name="top"></a>
·¢ÐÅÈË:&nbsp;jameson&nbsp;(°¢Æä),&nbsp;ÐÅÇø:&nbsp;Mud_Builder&nbsp;<BR>
±ê&nbsp;&nbsp;Ìâ:&nbsp;Re:&nbsp;Ë«µ¶ºÏ±Ú²»µÐÕÅÈý·á£¡£¨×ª×Ô¼ÓÄÃ´óXKX£©(×ª¼Ä)&nbsp;(×&nbsp;<BR>
·¢ÐÅÕ¾:&nbsp;BBS&nbsp;Ë®Ä¾Çå»ªÕ¾&nbsp;(Wed&nbsp;May&nbsp;28&nbsp;13:03:51&nbsp;1997)&nbsp;<BR>
&nbsp;<BR>
¡¾&nbsp;ÔÚ&nbsp;windeye&nbsp;(ÎÞÁÄµ½²»ÖªÈ¡Ê²Ã´Ãû×Ö)&nbsp;µÄ´ó×÷ÖÐÌáµ½:&nbsp;¡¿&nbsp;<BR>
¡Ã<I>&nbsp;¼ÙÈçÒª×ö×îÐ¡µÄÐÞ¸ÄµÄ»°£¬¿ÉÒÔ´ÓARRAYµÄ£Ó£Ë£É£Ì£Ì×ö&nbsp;</I><BR>
¡Ã<I>&nbsp;µ±ATTACK&nbsp;µÄÊ±ºòÅÐ¶ÏËûÊÇ·ñÔÚARRAY&nbsp;ÀïÃæ£¬ÈôÊÇÔò°ÑÏÈ»ú×ªÒÆµ½TEAM&nbsp;HEADÄÇÀï&nbsp;</I><BR>
¡Ã<I>&nbsp;ÓÖTEAM&nbsp;HEAD&nbsp;µÄARRAY&nbsp;SKILL&nbsp;¸ºÔðÕû¸ö½£ÕóµÄ½ø¹¥&nbsp;</I><BR>
¡Ã<I>&nbsp;parryµÄÊ±ºòÀàËÆ&nbsp;</I><BR>
&nbsp;<BR>
ÎÒÓÐÈçÏÂ½¨Òé:&nbsp;<BR>
&nbsp;<BR>
Îªteam&nbsp;leader&nbsp;×÷Ò»¸öteamfight&nbsp;Ö¸Áî,¸ÃÖ¸Áî¸ºÔðÍê³ÉËùÓÐteamers½øÈëteamfight×´Ì¬&nbsp;<BR>
µÄÉèÖÃ.&nbsp;<BR>
&nbsp;<BR>
×÷Ò»ÃÅarray&nbsp;skillÎªÏÔÊ¾ÌØÊâµÄÕ½¶·³¡ÃæÌá¹©ÀàËÆquery_actionµÄ½Ó¿Ú.ÓÉÓÚ¸Ãº¯Êý¿É»ñ&nbsp;<BR>
È¡Ä¿Ç°Õ½¶·ÖÐµÄobject,´Ó¶ø¾ÍÍ¨¹ýÒÔÉÏÉè¶¨µÄ±êÖ¾À´Ñ°ÕÒ¸ÄobjectµÄteamer¼ÓÈë»ØÏÔµÄÕ½&nbsp;<BR>
¶·ÐÅÏ¢.&nbsp;<BR>
&nbsp;<BR>
ÔÚcombatdÖÐ¸Ä¶¯Á½´¦.Ò»ÊÇskill_power,ÒòÎª¼¯ÌåÕ½¶·Ä£Ê½µÄ¹¥·Àµ±È»²»Í¬ÓÚµ¥¶ÀµÄÕ½¶·&nbsp;<BR>
¶þÊÇdo_attack,ÔÚÃ¿Ò»´¦result&nbsp;+=...µÄµØ·½,¼ÓÉÏÅÐ¶Ï,Èç¹ûÔÚ¼¯ÌåÕ½¶·Ä£Ê½ÖÐ,Ëæ»úµØ&nbsp;<BR>
Ñ¡ÔñÊÇµ¥¶ÀµØdodge,parry,attack»¹ÊÇÓÉ¸ÃobjectµÄteamerÎªËûÌá¹©dodge,parry,attack.&nbsp;<BR>
&nbsp;<BR>
»¹ÓÐÔÚF_ATTACKÖÐ×÷Ò»¸öclean_up_teamer()Æä×÷ÓÃÀàËÆÓÚclean_up_enemy(),ÓÃÀ´ÅÐ¶Ï&nbsp;<BR>
Õ½¶·ÏÖ³¡ÉÐÁôÏÂÀ´µÄteamer&nbsp;<BR>
&nbsp;<BR>
×÷ÁËÒÔÉÏ¼¸´¦±ä¶¯Ö®ºó,´ó¸Å¿ÉÒÔÒÔ´ËÎª»ù´¡ÒýÈëÒ»Ð©¼¯ÍÅ¹¥»÷¼¼ÇÉÁË.&nbsp;<BR>
&nbsp;<BR>
&nbsp;<BR>
--&nbsp;<BR>
¡ù&nbsp;À´Ô´:¡¤BBS&nbsp;Ë®Ä¾Çå»ªÕ¾&nbsp;bbs.net.tsinghua.edu.cn¡¤[FROM:&nbsp;160.12.37.81]&nbsp;<BR>
·¢ÐÅÈË:&nbsp;jameson&nbsp;(°¢Æä),&nbsp;ÐÅÇø:&nbsp;Mud_Builder&nbsp;<BR>
±ê&nbsp;&nbsp;Ìâ:&nbsp;F_TEAMÐÞ¸Ä³õ¸å&nbsp;<BR>
·¢ÐÅÕ¾:&nbsp;BBS&nbsp;Ë®Ä¾Çå»ªÕ¾&nbsp;(Thu&nbsp;May&nbsp;29&nbsp;21:36:20&nbsp;1997)&nbsp;<BR>
&nbsp;<BR>
#include&nbsp;&lt;skill.h&gt;&nbsp;<BR>
&nbsp;<BR>
static&nbsp;object&nbsp;leader,&nbsp;*team;&nbsp;<BR>
static&nbsp;object&nbsp;*fight_team;&nbsp;<BR>
static&nbsp;string&nbsp;current_array;&nbsp;<BR>
//&nbsp;the&nbsp;following&nbsp;is&nbsp;add&nbsp;by&nbsp;James&nbsp;Yu&nbsp;<BR>
//&nbsp;this&nbsp;function&nbsp;is&nbsp;used&nbsp;to&nbsp;initialize&nbsp;your&nbsp;team,&nbsp;with&nbsp;a&nbsp;special&nbsp;skill&nbsp;<BR>
//&nbsp;only&nbsp;the&nbsp;leader&nbsp;can&nbsp;make&nbsp;the&nbsp;initial&nbsp;fight_team,&nbsp;while&nbsp;his&nbsp;league&nbsp;<BR>
//&nbsp;just&nbsp;copy&nbsp;leader's&nbsp;list&nbsp;<BR>
string&nbsp;query_current_array()&nbsp;<BR>
{&nbsp;<BR>
&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;current_array;&nbsp;<BR>
}&nbsp;<BR>
&nbsp;<BR>
object&nbsp;*query_fight_team()&nbsp;<BR>
{&nbsp;<BR>
&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;fight_team;&nbsp;<BR>
}&nbsp;<BR>
&nbsp;<BR>
int&nbsp;delete_fight_team()&nbsp;<BR>
{&nbsp;<BR>
&nbsp;&nbsp;&nbsp;&nbsp;current_array=0;&nbsp;<BR>
&nbsp;&nbsp;&nbsp;&nbsp;fight_team=0;&nbsp;<BR>
&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;1;&nbsp;<BR>
}&nbsp;<BR>
&nbsp;<BR>
&nbsp;<BR>
varargs&nbsp;int&nbsp;set_fight_team(string&nbsp;zhen_fa,&nbsp;object&nbsp;*t)&nbsp;<BR>
{&nbsp;<BR>
&nbsp;&nbsp;&nbsp;&nbsp;int&nbsp;i;&nbsp;<BR>
&nbsp;&nbsp;&nbsp;&nbsp;object&nbsp;ob;&nbsp;<BR>
&nbsp;<BR>
&nbsp;&nbsp;&nbsp;&nbsp;if(&nbsp;!arrayp(team)&nbsp;)&nbsp;return&nbsp;0;&nbsp;<BR>
&nbsp;<BR>
&nbsp;&nbsp;&nbsp;&nbsp;if(&nbsp;!intp(this_object()-&gt;query_skill(zhen_fa,1))&nbsp;)&nbsp;return&nbsp;0;&nbsp;<BR>
&nbsp;<BR>
&nbsp;&nbsp;&nbsp;&nbsp;if(&nbsp;is_team_leader())&nbsp;{&nbsp;<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;fight_team=team;&nbsp;<BR>
&nbsp;<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;for(&nbsp;i=0;&nbsp;i&lt;sizeof(fight_team);&nbsp;i++)&nbsp;{&nbsp;<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;(&nbsp;(environment(fight_team[i])&nbsp;!=&nbsp;environment())&nbsp;<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;||&nbsp;(!living(fight_team[i]))&nbsp;<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;||&nbsp;(!intp(this_object()-&gt;query_skill(zhen_fa,1)))&nbsp;)&nbsp;{&nbsp;<BR>
&nbsp;<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if(pointerp(fight_team[i]-&gt;query_fight_team()))&nbsp;<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;fight_team[i]-&gt;delete_fight_team();&nbsp;<BR>
&nbsp;<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;fight_team[i]=0;&nbsp;<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}&nbsp;<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}&nbsp;<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;fight_team&nbsp;-=&nbsp;({&nbsp;0&nbsp;});&nbsp;<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;current_array&nbsp;=&nbsp;zhen_fa;&nbsp;<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;for(&nbsp;i=0;i&lt;sizeof(fight_team);i++)&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;fight_team[i]-&gt;set_fight_team(zhen_fa,&nbsp;fight_team);&nbsp;<BR>
&nbsp;&nbsp;&nbsp;&nbsp;}&nbsp;else&nbsp;{&nbsp;<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;fight_team&nbsp;=&nbsp;t;&nbsp;<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;current_array&nbsp;=&nbsp;zhen_fa;&nbsp;<BR>
&nbsp;&nbsp;&nbsp;&nbsp;}&nbsp;<BR>
&nbsp;<BR>
&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;1;&nbsp;<BR>
}&nbsp;<BR>
//&nbsp;this&nbsp;function&nbsp;is&nbsp;called&nbsp;by&nbsp;F_ATTACK,&nbsp;just&nbsp;after&nbsp;clear_up_enemy&nbsp;<BR>
//&nbsp;after&nbsp;this&nbsp;function&nbsp;is&nbsp;called,&nbsp;this_object&nbsp;might&nbsp;not&nbsp;be&nbsp;in&nbsp;this&nbsp;<BR>
//&nbsp;fight_team.&nbsp;<BR>
int&nbsp;clean_up_team(string&nbsp;zhen_fa)&nbsp;<BR>
{&nbsp;<BR>
&nbsp;&nbsp;&nbsp;&nbsp;if(!pointerp(query_fight_team()))&nbsp;<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;0;&nbsp;<BR>
&nbsp;<BR>
&nbsp;&nbsp;&nbsp;&nbsp;if(is_team_leader())&nbsp;{&nbsp;<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;set_fight_team(zhen_fa);&nbsp;<BR>
&nbsp;&nbsp;&nbsp;&nbsp;}&nbsp;else&nbsp;{&nbsp;<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;object&nbsp;ob=fight_team[0];&nbsp;<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ob-&gt;set_fight_team((string)(ob-&gt;query_current_array()));&nbsp;<BR>
&nbsp;&nbsp;&nbsp;&nbsp;}&nbsp;<BR>
&nbsp;<BR>
&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;1;&nbsp;<BR>
}&nbsp;<BR>
&nbsp;<BR>
&nbsp;<BR>
--&nbsp;<BR>
¡ù&nbsp;À´Ô´:¡¤BBS&nbsp;Ë®Ä¾Çå»ªÕ¾&nbsp;bbs.net.tsinghua.edu.cn¡¤[FROM:&nbsp;klab.ishii.utsu]&nbsp;<BR>
·¢ÐÅÈË:&nbsp;jameson&nbsp;(°¢Æä),&nbsp;ÐÅÇø:&nbsp;Mud_Builder&nbsp;<BR>
±ê&nbsp;&nbsp;Ìâ:&nbsp;F_ATTACKÐÞ¸Ä³õ¸å&nbsp;<BR>
·¢ÐÅÕ¾:&nbsp;BBS&nbsp;Ë®Ä¾Çå»ªÕ¾&nbsp;(Thu&nbsp;May&nbsp;29&nbsp;21:52:54&nbsp;1997)&nbsp;<BR>
&nbsp;<BR>
private&nbsp;int&nbsp;attack()&nbsp;<BR>
{&nbsp;<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;object&nbsp;opponent;&nbsp;<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;object&nbsp;*teamers;&nbsp;<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;string&nbsp;array_skill;&nbsp;<BR>
&nbsp;<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;clean_up_enemy();&nbsp;<BR>
&nbsp;<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if(pointerp(query_fight_team()))&nbsp;<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;clean_up_team(this_object()-&gt;query_current_array());&nbsp;<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//&nbsp;since&nbsp;after&nbsp;clean_up_team,&nbsp;this_object()&nbsp;will&nbsp;be&nbsp;out&nbsp;of&nbsp;fight_team.&nbsp;<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if(pointerp(teamers=this_object()-&gt;query_fight_team()))&nbsp;{&nbsp;<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;array_skill=(string)teamers[0]-&gt;query_current_array();&nbsp;<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;SKILL_D(array_skill)-&gt;form_array(teamers,array_skill);&nbsp;<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//&nbsp;if&nbsp;the&nbsp;above&nbsp;line&nbsp;return&nbsp;fail&nbsp;,&nbsp;call&nbsp;delete_fight_team&nbsp;in&nbsp;each&nbsp;member&nbsp;<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//&nbsp;of&nbsp;teamers.&nbsp;<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}&nbsp;<BR>
&nbsp;<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;opponent&nbsp;=&nbsp;select_opponent();&nbsp;<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if(&nbsp;objectp(opponent)&nbsp;)&nbsp;{&nbsp;<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;set_temp(&quot;last_opponent&quot;,&nbsp;opponent);&nbsp;<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;COMBAT_D-&gt;fight(this_object(),&nbsp;opponent);&nbsp;<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;1;&nbsp;<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}&nbsp;else&nbsp;<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;0;&nbsp;<BR>
}&nbsp;<BR>
&nbsp;<BR>
--&nbsp;<BR>
¡ù&nbsp;À´Ô´:¡¤BBS&nbsp;Ë®Ä¾Çå»ªÕ¾&nbsp;bbs.net.tsinghua.edu.cn¡¤[FROM:&nbsp;klab.ishii.utsu]&nbsp;<BR>
·¢ÐÅÈË:&nbsp;jameson&nbsp;(°¢Æä),&nbsp;ÐÅÇø:&nbsp;Mud_Builder&nbsp;<BR>
±ê&nbsp;&nbsp;Ìâ:&nbsp;CMD_TEAM&nbsp;<BR>
·¢ÐÅÕ¾:&nbsp;BBS&nbsp;Ë®Ä¾Çå»ªÕ¾&nbsp;(Thu&nbsp;May&nbsp;29&nbsp;22:18:29&nbsp;1997)&nbsp;<BR>
&nbsp;<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if(&nbsp;sscanf(arg,&nbsp;&quot;form&nbsp;%s&quot;,&nbsp;arg)==1&nbsp;)&nbsp;{&nbsp;<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if(&nbsp;!pointerp(t=me-&gt;query_team())&nbsp;||&nbsp;!me-&gt;is_team_leader()&nbsp;)&nbsp;<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;notify_fail(&quot;Äã±ØÐëÊÇÒ»¸ö¶ÓÎéµÄÁìÐä²ÅÄÜ×éÖ¯ÕóÐÎ¡£\n&quot;);&nbsp;<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if(&nbsp;!me-&gt;query_skill(arg,&nbsp;1)&nbsp;)&nbsp;<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;notify_fail(&quot;ÕâÖÖÕóÐÎÄãÃ»Ñ§¹ý¡£\n&quot;);&nbsp;<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;SKILL_D(arg)-&gt;form_array(me);&nbsp;//&nbsp;in&nbsp;form_array()&nbsp;call&nbsp;set_fight_team;&nbsp;<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}&nbsp;<BR>
&nbsp;<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if(&nbsp;scanf(arg,&nbsp;&quot;fight&nbsp;%s&quot;,&nbsp;arg)==1&nbsp;)&nbsp;{&nbsp;<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if(!(me-&gt;is_team_leader()))&nbsp;<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;notify_fail(&quot;you&nbsp;are&nbsp;not&nbsp;leader&quot;)&nbsp;<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if(!(objectp(opponent_ob=presend(arg,environment(me)))))&nbsp;<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;notify_fail(&quot;no&nbsp;this&nbsp;man\n&quot;);&nbsp;<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if(!(stringp(me-&gt;query_current_array())))&nbsp;<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;notify_fail(&quot;you&nbsp;should&nbsp;form&nbsp;array&nbsp;at&nbsp;first&quot;);&nbsp;<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//&nbsp;call&nbsp;each&nbsp;member&nbsp;in&nbsp;your&nbsp;team&nbsp;to&nbsp;fight&nbsp;with&nbsp;him.;&nbsp;<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}&nbsp;<BR>
&nbsp;<BR>
}&nbsp;<BR>
.&nbsp;<BR>
&nbsp;<BR>
--&nbsp;<BR>
¡ù&nbsp;À´Ô´:¡¤BBS&nbsp;Ë®Ä¾Çå»ªÕ¾&nbsp;bbs.net.tsinghua.edu.cn¡¤[FROM:&nbsp;klab.ishii.utsu]&nbsp;<BR>
<A HREF="00000010.htm">ÉÏÒ»Æª</A>
<A HREF='javascript:history.go(-1)'>·µ»ØÉÏÒ»Ò³</A>
<A HREF="index.htm">»Øµ½Ä¿Â¼</A>
<A HREF="#top">»Øµ½Ò³Ê×</A>
<A HREF="00000012.htm">ÏÂÒ»Æª</A>
</H1></CENTER>
<CENTER><H1>BBSË®Ä¾Çå»ªÕ¾¡Ã¾«»ªÇø</H1></CENTER>
</BODY></HTML>