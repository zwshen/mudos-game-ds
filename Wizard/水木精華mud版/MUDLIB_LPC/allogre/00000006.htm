<HTML>
<HEAD>
<TITLE>BBS水木清華站︰精華區</TITLE>
</HEAD>
<BODY>
<CENTER><H1>BBS水木清華站︰精華區</H1></CENTER>
<A Name="top"></a>
發信人:&nbsp;sorceress&nbsp;(李大善人~~~以德服人),&nbsp;信區:&nbsp;Mud_Builder&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<BR>
標&nbsp;&nbsp;題:&nbsp;Allegro&nbsp;遊戲程序庫&nbsp;(遊戲杆例程)&nbsp;(轉載)&nbsp;<BR>
發信站:&nbsp;BBS&nbsp;水木清華站&nbsp;(Mon&nbsp;Jun&nbsp;12&nbsp;20:42:05&nbsp;2000)&nbsp;<BR>
&nbsp;<BR>
【&nbsp;以下文字轉載自&nbsp;GAME_Designer&nbsp;討論區&nbsp;】&nbsp;<BR>
【&nbsp;原文由&nbsp;cloudwu&nbsp;所發表&nbsp;】&nbsp;<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;______&nbsp;&nbsp;&nbsp;___&nbsp;&nbsp;&nbsp;&nbsp;___&nbsp;<BR>
&nbsp;&nbsp;&nbsp;&nbsp;/\&nbsp;&nbsp;_&nbsp;&nbsp;\&nbsp;/\_&nbsp;\&nbsp;&nbsp;/\_&nbsp;\&nbsp;<BR>
&nbsp;&nbsp;&nbsp;&nbsp;\&nbsp;\&nbsp;\L\&nbsp;\\//\&nbsp;\&nbsp;\//\&nbsp;\&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;__&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;__&nbsp;&nbsp;&nbsp;_&nbsp;__&nbsp;&nbsp;&nbsp;___&nbsp;&nbsp;<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;\&nbsp;\&nbsp;&nbsp;__&nbsp;\&nbsp;\&nbsp;\&nbsp;\&nbsp;&nbsp;\&nbsp;\&nbsp;\&nbsp;&nbsp;&nbsp;/'__`\&nbsp;/'_&nbsp;`\/\`'__\/&nbsp;__`\&nbsp;<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;\&nbsp;\&nbsp;\/\&nbsp;\&nbsp;\_\&nbsp;\_&nbsp;\_\&nbsp;\_/\&nbsp;&nbsp;__//\&nbsp;\L\&nbsp;\&nbsp;\&nbsp;\//\&nbsp;\L\&nbsp;\&nbsp;<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;\&nbsp;\_\&nbsp;\_\/\____\/\____\&nbsp;\____\&nbsp;\____&nbsp;\&nbsp;\_\\&nbsp;\____/&nbsp;<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;\/_/\/_/\/____/\/____/\/____/\/___L\&nbsp;\/_/&nbsp;\/___/&nbsp;<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;/\____/&nbsp;<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;\_/__/&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;3.0&nbsp;版&nbsp;<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;一個遊戲程序庫&nbsp;<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;By&nbsp;Shawn&nbsp;Hargreaves,&nbsp;1994/97&nbsp;<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;雲風&nbsp;譯&nbsp;<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<A HREF="http://www.nease.net/~cloudwu">http://www.nease.net/~cloudwu</A>&nbsp;<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;E-mail:<A HREF="mailto:cloudwu@nease.net">cloudwu@nease.net</A>&nbsp;<BR>
===========================================&nbsp;<BR>
============&nbsp;&nbsp;&nbsp;&nbsp;遊戲杆例程&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;============&nbsp;<BR>
===========================================&nbsp;<BR>
讀取&nbsp;PC&nbsp;遊戲杆的輸入信息可不是一件另人快樂的任務.&nbsp;不是因為它&nbsp;<BR>
特別的複雜,&nbsp;而是因為它依賴於一個高精度的時鐘循環,&nbsp;<BR>
它準確返回值的條件會隨著遊戲杆的類型,&nbsp;<BR>
你的機器的速度,房間的溫度和月亮的圓缺而改變.&nbsp;<BR>
如果你想得到輸入值的意思就必須&nbsp;<BR>
在使用之前校準遊戲杆,&nbsp;一件討厭的事情.&nbsp;<BR>
extern&nbsp;int&nbsp;joy_type;&nbsp;<BR>
&nbsp;&nbsp;&nbsp;這個全局變量描述了是何種遊戲杆接在機器上.&nbsp;<BR>
&nbsp;&nbsp;&nbsp;可能的值有:&nbsp;<BR>
&nbsp;&nbsp;&nbsp;JOY_TYPE_STANDARD&nbsp;<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;普通的兩鍵杆.這是缺省值,可以用在任何遊戲杆上.&nbsp;<BR>
&nbsp;<BR>
&nbsp;&nbsp;&nbsp;JOY_TYPE_FSPRO&nbsp;<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;如果你有一個&nbsp;CH&nbsp;Flightstick&nbsp;Pro,&nbsp;而且想使用它提供的很酷的特性&nbsp;<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(&nbsp;四按紐,&nbsp;一個模擬氣管&nbsp;(analogue&nbsp;throttle),&nbsp;和一個&nbsp;4&nbsp;向冷卻帽&nbsp;(coolie&nbsp;<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;hat)),&nbsp;你就應該在調用其它遊戲杆函數前設置這個變量.&nbsp;<BR>
&nbsp;<BR>
&nbsp;&nbsp;&nbsp;JOY_TYPE_4BUTTON&nbsp;<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;設置這個變量可以使能&nbsp;(enable)&nbsp;4&nbsp;紐遊戲杆上擴展的按紐&nbsp;&nbsp;(比如&nbsp;<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Gravis&nbsp;Gamepad).&nbsp;<BR>
&nbsp;&nbsp;&nbsp;JOY_TYPE_6BUTTON&nbsp;<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;設置這個變量可以使能&nbsp;6&nbsp;紐遊戲杆上的擴展按紐.&nbsp;<BR>
&nbsp;&nbsp;&nbsp;JOY_TYPE_2PADS&nbsp;<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;使用雙遊戲杆模式.&nbsp;<BR>
&nbsp;&nbsp;&nbsp;JOY_TYPE_WINGEX&nbsp;<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;使用&nbsp;Logitech&nbsp;Wingman&nbsp;Extreme&nbsp;遊戲杆時用這個,&nbsp;<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;也可以用在任何&nbsp;Thrustmaster&nbsp;Mk.I&nbsp;兼容遊戲杆上.&nbsp;它支持&nbsp;<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;四個按紐和冷卻帽.&nbsp;如果你將&nbsp;Wingman&nbsp;Warrior&nbsp;插在&nbsp;15&nbsp;針插頭上&nbsp;(記住&nbsp;<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;拔掉&nbsp;&nbsp;9&nbsp;針插頭!)&nbsp;然後設置一下&nbsp;&quot;H&quot;&nbsp;位置前的小開關,&nbsp;也可以工作&nbsp;(&nbsp;<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;然而你將不能使用&nbsp;<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;氣管或者機頭罩)&nbsp;<BR>
int&nbsp;initialise_joystick();&nbsp;<BR>
&nbsp;&nbsp;&nbsp;初始化遊戲杆,&nbsp;校準中心位置的值.&nbsp;你&nbsp;<BR>
&nbsp;&nbsp;&nbsp;必須在使用其它任何遊戲杆函數前調用它,&nbsp;而且在你做的時候你必須&nbsp;<BR>
&nbsp;&nbsp;&nbsp;確認用戶將遊戲杆調到了中心.&nbsp;<BR>
&nbsp;&nbsp;&nbsp;如果沒有遊戲杆則返回非零值&nbsp;(不過你還是可以調用其它遊戲杆函數,&nbsp;<BR>
&nbsp;&nbsp;&nbsp;但是它們都將返回零坐標).&nbsp;<BR>
&nbsp;&nbsp;&nbsp;如果遊戲杆被其它設置工具校準了,就沒有必要使用這個函數了:&nbsp;<BR>
&nbsp;&nbsp;&nbsp;如果是這樣,你可以調用&nbsp;<BR>
&nbsp;&nbsp;&nbsp;load_joystick_data(NULL)&nbsp;來恢復以前的設置.&nbsp;<BR>
void&nbsp;poll_joystick();&nbsp;<BR>
&nbsp;&nbsp;&nbsp;不像鼠標和鍵盤,&nbsp;遊戲杆不是用中斷驅動的,&nbsp;因此&nbsp;<BR>
&nbsp;&nbsp;&nbsp;你需要每次重複的調用這個函數來更新全局坐標變量.&nbsp;<BR>
&nbsp;<BR>
extern&nbsp;int&nbsp;joy_left,&nbsp;joy_right,&nbsp;joy_up,&nbsp;joy_down;&nbsp;<BR>
&nbsp;&nbsp;&nbsp;這些變量模擬了一個數字協約國.&nbsp;它們由&nbsp;<BR>
&nbsp;&nbsp;&nbsp;poll_joystick()&nbsp;更新,&nbsp;當遊戲杆移到相關的方向,有關的值就會被置入非零值.&nbsp;<BR>
&nbsp;&nbsp;&nbsp;使用這些你不必完全的校準遊戲杆:&nbsp;<BR>
&nbsp;&nbsp;&nbsp;只&nbsp;initialise_joystick()&nbsp;就夠了&nbsp;(&nbsp;demo&nbsp;遊戲就是這樣使用遊戲杆的).&nbsp;<BR>
&nbsp;<BR>
extern&nbsp;int&nbsp;joy2_left,&nbsp;joy2_right,&nbsp;joy2_up,&nbsp;joy2_down;&nbsp;<BR>
&nbsp;&nbsp;&nbsp;第二個遊戲杆的數字位置變量&nbsp;(只有在&nbsp;<BR>
&nbsp;&nbsp;&nbsp;joy_type&nbsp;設置為&nbsp;JOY_TYPE_2PADS&nbsp;時有效).&nbsp;<BR>
extern&nbsp;int&nbsp;joy_b1,&nbsp;joy_b2;&nbsp;<BR>
&nbsp;&nbsp;&nbsp;遊戲杆按紐狀態.&nbsp;調用&nbsp;poll_joystick()&nbsp;來更新它們.&nbsp;注意&nbsp;<BR>
&nbsp;&nbsp;&nbsp;注意當按紐被按下或者放開時一些時候在&nbsp;on&nbsp;和&nbsp;off&nbsp;之間傾向於彈起,&nbsp;<BR>
&nbsp;&nbsp;&nbsp;所以在一些情況下你可能需要在按紐改變狀態後加&nbsp;<BR>
&nbsp;&nbsp;&nbsp;一小段延時&nbsp;(例子見&nbsp;test.c).&nbsp;<BR>
extern&nbsp;int&nbsp;joy2_b1,&nbsp;joy2_b2;&nbsp;<BR>
&nbsp;&nbsp;&nbsp;第二個遊戲杆的按紐狀態&nbsp;(只在&nbsp;joy_type&nbsp;設置為&nbsp;JOY_TYPE_2PADS&nbsp;時有效).&nbsp;<BR>
&nbsp;<BR>
extern&nbsp;int&nbsp;joy_b3,&nbsp;joy_b4;&nbsp;<BR>
&nbsp;&nbsp;&nbsp;就像兩個基本的按紐,&nbsp;這些也是由&nbsp;poll_joystick()&nbsp;更新.&nbsp;<BR>
&nbsp;&nbsp;&nbsp;只有在&nbsp;joy_type&nbsp;設置為&nbsp;JOY_TYPE_FSPRO,&nbsp;<BR>
&nbsp;&nbsp;&nbsp;JOY_TYPE_4BUTTON,&nbsp;JOY_TYPE_6BUTTON,&nbsp;或&nbsp;JOY_TYPE_WINGEX&nbsp;時變量才含有有效值.&nbsp;&nbsp;<BR>
&nbsp;&nbsp;&nbsp;你也可以以別名(在&nbsp;allegro.h&nbsp;定義)形式控制&nbsp;Flightstick&nbsp;Pro&nbsp;的按紐:&nbsp;<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;#define&nbsp;joy_FSPRO_trigger&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;joy_b1&nbsp;<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;#define&nbsp;joy_FSPRO_butleft&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;joy_b2&nbsp;<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;#define&nbsp;joy_FSPRO_butright&nbsp;&nbsp;&nbsp;&nbsp;joy_b3&nbsp;<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;#define&nbsp;joy_FSPRO_butmiddle&nbsp;&nbsp;&nbsp;joy_b4&nbsp;<BR>
&nbsp;&nbsp;&nbsp;Wingman&nbsp;Extreme&nbsp;按紐同樣在&nbsp;allegro.h&nbsp;裡定義了別名:&nbsp;<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;#define&nbsp;joy_WINGEX_trigger&nbsp;&nbsp;&nbsp;&nbsp;joy_b1&nbsp;<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;#define&nbsp;joy_WINGEX_buttop&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;joy_b2&nbsp;<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;#define&nbsp;joy_WINGEX_butthumb&nbsp;&nbsp;&nbsp;joy_b3&nbsp;<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;#define&nbsp;joy_WINGEX_butmiddle&nbsp;&nbsp;joy_b4&nbsp;<BR>
extern&nbsp;int&nbsp;joy_b5,&nbsp;joy_b6;&nbsp;<BR>
&nbsp;&nbsp;&nbsp;就像基本按紐,&nbsp;這些也是由&nbsp;poll_joystick()&nbsp;更新.&nbsp;<BR>
&nbsp;&nbsp;&nbsp;只有在&nbsp;joy_type&nbsp;設置為&nbsp;JOY_TYPE_6BOTTON&nbsp;時值才有效.&nbsp;<BR>
extern&nbsp;int&nbsp;joy_hat;&nbsp;<BR>
&nbsp;&nbsp;&nbsp;由&nbsp;poll_joystick()&nbsp;更新.&nbsp;只有在&nbsp;joy_type&nbsp;等於&nbsp;JOY_TYPE_FSPRO&nbsp;或&nbsp;&nbsp;<BR>
&nbsp;&nbsp;&nbsp;JOY_TYPE_WINGX&nbsp;(還有條件是只有帽子被校準時)&nbsp;時才含有效的數據.&nbsp;<BR>
&nbsp;&nbsp;&nbsp;它有以下這些可能值&nbsp;<BR>
&nbsp;&nbsp;&nbsp;(它們是互斥的):&nbsp;<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;JOY_HAT_CENTRE&nbsp;<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;JOY_HAT_UP&nbsp;<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;JOY_HAT_DOWN&nbsp;<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;JOY_HAT_LEFT&nbsp;<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;JOY_HAT_RIGHT&nbsp;<BR>
int&nbsp;calibrate_joystick_tl();&nbsp;<BR>
int&nbsp;calibrate_joystick_br();&nbsp;<BR>
&nbsp;&nbsp;&nbsp;如果你想得到模擬杆的位置信息,而不是用&nbsp;<BR>
&nbsp;&nbsp;&nbsp;joy_left,&nbsp;joy_right,&nbsp;joy_up,&nbsp;和&nbsp;joy_down&nbsp;變量,&nbsp;你需要&nbsp;&nbsp;<BR>
&nbsp;&nbsp;&nbsp;單獨校準遊戲杆左上,右下,和中間位置.&nbsp;<BR>
&nbsp;&nbsp;&nbsp;首先必須調用&nbsp;initalise_joystick()&nbsp;來校準中間位置.&nbsp;<BR>
&nbsp;&nbsp;&nbsp;然後你可以叫用戶移動遊戲杆到&nbsp;<BR>
&nbsp;&nbsp;&nbsp;最左上和最右下,&nbsp;再在每個角調用相應的&nbsp;<BR>
&nbsp;&nbsp;&nbsp;校準例程.&nbsp;例子見&nbsp;test.c&nbsp;.&nbsp;&nbsp;<BR>
&nbsp;&nbsp;&nbsp;做完這些,你便可以使用位置變量了:&nbsp;<BR>
extern&nbsp;int&nbsp;joy_x,&nbsp;joy_y;&nbsp;<BR>
&nbsp;&nbsp;&nbsp;模擬軸坐標,&nbsp;範圍是&nbsp;-128&nbsp;到&nbsp;128.&nbsp;你在使用這些變量前必須完全&nbsp;<BR>
&nbsp;&nbsp;&nbsp;校準遊戲杆:&nbsp;見上面.&nbsp;<BR>
&nbsp;&nbsp;&nbsp;調用&nbsp;poll_joystick()&nbsp;來更新它們.&nbsp;<BR>
extern&nbsp;int&nbsp;joy2_x,&nbsp;joy2_y;&nbsp;<BR>
&nbsp;&nbsp;&nbsp;第二個遊戲杆的模擬軸坐標&nbsp;(只有在&nbsp;joy_type&nbsp;設置為&nbsp;<BR>
&nbsp;&nbsp;&nbsp;JOY_TYPE_2PADS&nbsp;值才有效).&nbsp;<BR>
int&nbsp;calibrate_joystick_throttle_min();&nbsp;<BR>
int&nbsp;calibrate_joystick_throttle_max();&nbsp;<BR>
&nbsp;&nbsp;&nbsp;好像需要校準的東東沒完沒了了&nbsp;&nbsp;:-)&nbsp;要使用&nbsp;<BR>
&nbsp;&nbsp;&nbsp;Flightstick&nbsp;Pro&nbsp;的模擬氣管,&nbsp;將氣管分別開到&nbsp;<BR>
&nbsp;&nbsp;&nbsp;最小和最大然後調用這些函數.&nbsp;<BR>
extern&nbsp;int&nbsp;joy_throttle;&nbsp;<BR>
&nbsp;&nbsp;&nbsp;氣管位置,&nbsp;範圍重&nbsp;0&nbsp;到&nbsp;255&nbsp;(&nbsp;0&nbsp;是全速前進還是&nbsp;<BR>
&nbsp;&nbsp;&nbsp;全速後退取決於用戶怎樣校準氣管:&nbsp;一些&nbsp;<BR>
&nbsp;&nbsp;&nbsp;人喜歡和大多數人的用法反著用).&nbsp;<BR>
&nbsp;&nbsp;&nbsp;這個由&nbsp;poll_joystick()&nbsp;更新,&nbsp;&nbsp;<BR>
&nbsp;&nbsp;&nbsp;只有&nbsp;joy_type&nbsp;=&nbsp;JOY_TYPE_FSPRO&nbsp;時包含有效值,而且你要先校準氣管.&nbsp;<BR>
int&nbsp;calibrate_joystick_hat(int&nbsp;direction);&nbsp;<BR>
&nbsp;&nbsp;&nbsp;這是個由&nbsp;Wingman&nbsp;Extrme&nbsp;需要校準冷卻帽時使用的硬件供給工具&nbsp;<BR>
&nbsp;&nbsp;&nbsp;(這個只能在&nbsp;Thrustmaster&nbsp;兼容遊戲杆下使用,&nbsp;<BR>
&nbsp;&nbsp;&nbsp;比如&nbsp;Wingman&nbsp;Extreme,&nbsp;而不能在&nbsp;CH&nbsp;兼容遊戲杆下用:&nbsp;<BR>
&nbsp;&nbsp;&nbsp;它們線路不同).&nbsp;為了防止隨機的行為,&nbsp;如果&nbsp;<BR>
&nbsp;&nbsp;&nbsp;沒有校準&nbsp;joy_hat&nbsp;變量將總為&nbsp;<BR>
&nbsp;&nbsp;&nbsp;JOY_HAT_CENTRE.&nbsp;calibrate_joystick_hat()&nbsp;的值為以下的一個:&nbsp;<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;JOY_HAT_CENTRE&nbsp;<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;JOY_HAT_UP&nbsp;<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;JOY_HAT_DOWN&nbsp;<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;JOY_HAT_LEFT&nbsp;<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;JOY_HAT_RIGHT&nbsp;<BR>
&nbsp;&nbsp;&nbsp;注意,為了獲得冷卻帽的更好的校準效果,&nbsp;在這個函數被調用時遊戲杆&nbsp;<BR>
&nbsp;&nbsp;&nbsp;應當放到中間.&nbsp;<BR>
int&nbsp;save_joystick_data(char&nbsp;*filename);&nbsp;<BR>
&nbsp;&nbsp;&nbsp;在所有頭痛的遊戲杆校對工作以後,&nbsp;你不會想&nbsp;<BR>
&nbsp;&nbsp;&nbsp;讓你可憐的用戶在運行你的程序時每次都重複這個過程吧.&nbsp;<BR>
&nbsp;&nbsp;&nbsp;調用這個函數可以將遊戲杆校準數據保存在指定的&nbsp;<BR>
&nbsp;&nbsp;&nbsp;配置文件中,&nbsp;而這些可以在日後被&nbsp;<BR>
&nbsp;&nbsp;&nbsp;load_joystick_data()&nbsp;來讀取.&nbsp;&nbsp;傳入一個&nbsp;NULL&nbsp;文件名使得數據被寫入&nbsp;<BR>
&nbsp;&nbsp;&nbsp;當前選擇的配置文件.&nbsp;成功則返回零.&nbsp;<BR>
int&nbsp;load_joystick_data(char&nbsp;*filename);&nbsp;<BR>
&nbsp;&nbsp;&nbsp;恢復以前由&nbsp;save_joystick_data()&nbsp;或&nbsp;設置工具保存的校準數據.&nbsp;<BR>
&nbsp;&nbsp;&nbsp;這個將設置所有的有關遊戲杆的東東:&nbsp;如果你使用這個函數你就&nbsp;<BR>
&nbsp;&nbsp;&nbsp;不需要調用&nbsp;initialise_joystick()&nbsp;了.&nbsp;<BR>
&nbsp;&nbsp;&nbsp;傳入&nbsp;NULL&nbsp;文件名則從當前選擇的配置文件裡讀入數據.&nbsp;<BR>
&nbsp;&nbsp;&nbsp;成功則返回零:&nbsp;如果失敗&nbsp;&nbsp;&nbsp;遊戲杆的狀態就會&nbsp;無定義,&nbsp;而你必須重初始化和校準它了.&nbsp;<BR>
&nbsp;<BR>
--&nbsp;<BR>
<A HREF="http://www.nease.net/~cloudwu">http://www.nease.net/~cloudwu</A>&nbsp;<BR>
<A HREF="http://computer.igd.edu.cn/~cloud">http://computer.igd.edu.cn/~cloud</A>&nbsp;<BR>
E-mail:&nbsp;<A HREF="mailto:cloudwu@163.net">cloudwu@163.net</A>&nbsp;<BR>
&nbsp;<BR>
※&nbsp;來源:•BBS&nbsp;水木清華站&nbsp;bbs.net.tsinghua.edu.cn•[FROM:&nbsp;202.197.71.9]&nbsp;<BR>
<A HREF="00000005.htm">上一篇</A>
<A HREF='javascript:history.go(-1)'>返回上一頁</A>
<A HREF="index.htm">回到目錄</A>
<A HREF="#top">回到頁首</A>
<A HREF="00000007.htm">下一篇</A>
</H1></CENTER>
<CENTER><H1>BBS水木清華站︰精華區</H1></CENTER>
</BODY></HTML>