<HTML>
<HEAD>
<TITLE>BBS水木清華站︰精華區</TITLE>
</HEAD>
<BODY>
<CENTER><H1>BBS水木清華站︰精華區</H1></CENTER>
<A Name="top"></a>
發信人:&nbsp;sorceress&nbsp;(李大善人~~~以德服人),&nbsp;信區:&nbsp;Mud_Builder&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<BR>
標&nbsp;&nbsp;題:&nbsp;Allegro&nbsp;中譯文檔(調試)&nbsp;(轉載)&nbsp;<BR>
發信站:&nbsp;BBS&nbsp;水木清華站&nbsp;(Mon&nbsp;Jun&nbsp;12&nbsp;21:00:51&nbsp;2000)&nbsp;<BR>
&nbsp;<BR>
【&nbsp;以下文字轉載自&nbsp;GAME_Designer&nbsp;討論區&nbsp;】&nbsp;<BR>
【&nbsp;原文由&nbsp;cloudwu&nbsp;所發表&nbsp;】&nbsp;<BR>
調試&nbsp;<BR>
&nbsp;<BR>
缺省時&nbsp;Allegro&nbsp;以最大的優化建立,&nbsp;沒有調試信息,&nbsp;而且使用了&nbsp;-formit-frame-pointe&nbsp;<BR>
r&nbsp;<BR>
開關.&nbsp;這個能創建最有效的代碼,&nbsp;但是如果你的程序在&nbsp;Allegro&nbsp;函數里死掉,&nbsp;將很難調&nbsp;<BR>
試.&nbsp;<BR>
這兒有幾個變量控制代碼生成開關,&nbsp;這將在調試時或如果你想修改&nbsp;Allegro&nbsp;時很有用.&nbsp;&nbsp;<BR>
這&nbsp;<BR>
些即可以在命令行上設置環境變量&nbsp;(即&nbsp;&quot;set&nbsp;DEBUGMODE=1&quot;)&nbsp;或從命令行上傳給&nbsp;make&nbsp;(&nbsp;<BR>
即&nbsp;<BR>
make&nbsp;install&nbsp;DEBUGMODE=1&quot;).&nbsp;為了建立新版本,&nbsp;執行&nbsp;&quot;make&nbsp;clean&quot;&nbsp;來去掉先前建立的&nbsp;<BR>
,&nbsp;<BR>
設置合適的變量,&nbsp;然後執行&nbsp;&quot;make&nbsp;install&quot;&nbsp;來建立用新開關編譯的版本.&nbsp;不要忘記先備&nbsp;<BR>
份&nbsp;<BR>
先前的&nbsp;liballeg.a,&nbsp;或者當你幹完後用正常的開關重編譯一遍!&nbsp;&nbsp;<BR>
&nbsp;<BR>
&nbsp;<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;DEBUGMODE&nbsp;<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;創建一個沒有優化的有完整的調試信息的版本,&nbsp;因此你正確的跟蹤,&nbsp;調試&nbsp;&nbsp;<BR>
Allegro&nbsp;裡&nbsp;<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;的例程.&nbsp;這個庫非常的慢!&nbsp;&nbsp;<BR>
&nbsp;<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;PROFILEMODE&nbsp;<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;創建一個包含&nbsp;profiling&nbsp;信息的版本&nbsp;(使用&nbsp;-pg&nbsp;開關).&nbsp;&nbsp;<BR>
&nbsp;<BR>
&nbsp;<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;SYMBOLMODE&nbsp;<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;建立一個普通優化的版本,&nbsp;但是鏈接段除去了&nbsp;symbol&nbsp;表.&nbsp;這僅僅在你修改&nbsp;&nbsp;<BR>
Allegro&nbsp;<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;本身有用,&nbsp;想在測試程序中運行符號調試.&nbsp;&nbsp;<BR>
&nbsp;<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;PGCC&nbsp;<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;為&nbsp;Pentium&nbsp;優化編譯器使用恰當的優化開關而不是現在的&nbsp;djgpp&nbsp;版&nbsp;gcc.&nbsp;&nbsp;<BR>
&nbsp;<BR>
&nbsp;<BR>
如果你僅僅想重編譯一個指定的程序或工具,&nbsp;你能用&nbsp;make&nbsp;後接一個參數來指定它,&nbsp;例如&nbsp;<BR>
&nbsp;<BR>
&quot;make&nbsp;demo&quot;&nbsp;或&nbsp;&quot;make&nbsp;grabber&quot;.&nbsp;makefile&nbsp;也可以指定一些特別的目標:&nbsp;&nbsp;<BR>
&nbsp;<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;'all'&nbsp;<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;正常的創建過程.&nbsp;編譯庫,&nbsp;所有的測試和例子程序,&nbsp;文檔文件,&nbsp;然後復制&nbsp;&nbsp;<BR>
allegro.h,&nbsp;<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;liballeg.a,&nbsp;和&nbsp;allegro.inf&nbsp;到你的&nbsp;djgpp&nbsp;目錄.&nbsp;&nbsp;<BR>
&nbsp;<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;'lib'&nbsp;<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;創建&nbsp;liballeg.a&nbsp;的新版,&nbsp;不裝到你的&nbsp;djgpp/lib/&nbsp;目錄下.&nbsp;&nbsp;<BR>
&nbsp;<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;'docs'&nbsp;<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;從&nbsp;._tx&nbsp;源轉換文檔.&nbsp;&nbsp;<BR>
&nbsp;<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;'install'&nbsp;<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;更新你的&nbsp;djgpp&nbsp;目錄下&nbsp;allegro.h,&nbsp;liballeg.a&nbsp;和&nbsp;allegro.inf&nbsp;的版本,&nbsp;如果&nbsp;<BR>
必要&nbsp;<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;重編譯它們.&nbsp;&nbsp;<BR>
&nbsp;<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;'clean'&nbsp;<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;從你的&nbsp;Allegro&nbsp;目錄刪去所有的中間文件,&nbsp;導致在你下一次運行&nbsp;make&nbsp;時重編譯&nbsp;<BR>
.&nbsp;這&nbsp;<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;需要&nbsp;fileutils&nbsp;包裡的&nbsp;'rm'&nbsp;工具.&nbsp;&nbsp;<BR>
&nbsp;<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;'uninstall'&nbsp;<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;從你的&nbsp;djgpp&nbsp;目錄刪去&nbsp;allegro.h,&nbsp;liballeg.a&nbsp;和&nbsp;allegro.inf.&nbsp;這需要&nbsp;<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;fileutils&nbsp;包裡的&nbsp;'rm'&nbsp;工具.&nbsp;&nbsp;<BR>
--&nbsp;<BR>
<A HREF="http://www.cfido.net/cloud">http://www.cfido.net/cloud</A>&nbsp;<BR>
<A HREF="http://computer.igd.edu.cn/~cloud">http://computer.igd.edu.cn/~cloud</A>&nbsp;(無本地文件下栽)&nbsp;<BR>
<A HREF="http://linux.cqi.com.cn/~cloud">http://linux.cqi.com.cn/~cloud</A>&nbsp;&nbsp;<BR>
<A HREF="http://www.netease.comn/~cloudwu">http://www.netease.comn/~cloudwu</A>&nbsp;<BR>
E-mail:&nbsp;<A HREF="mailto:cloudwu@263.net">cloudwu@263.net</A>&nbsp;<BR>
&nbsp;<BR>
※&nbsp;來源:•BBS&nbsp;水木清華站&nbsp;bbs.net.tsinghua.edu.cn•[FROM:&nbsp;202.197.71.16]&nbsp;&nbsp;<BR>
<A HREF="00000051.htm">上一篇</A>
<A HREF='javascript:history.go(-1)'>返回上一頁</A>
<A HREF="index.htm">回到目錄</A>
<A HREF="#top">回到頁首</A>
<A HREF="00000053.htm">下一篇</A>
</H1></CENTER>
<CENTER><H1>BBS水木清華站︰精華區</H1></CENTER>
</BODY></HTML>