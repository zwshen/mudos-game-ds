<HTML>
<HEAD>
<TITLE>BBS水木清華站︰精華區</TITLE>
</HEAD>
<BODY>
<CENTER><H1>BBS水木清華站︰精華區</H1></CENTER>
<A Name="top"></a>
發信人:&nbsp;windeye&nbsp;(用泥巴砌房子),&nbsp;信區:&nbsp;wizard&nbsp;<BR>
標&nbsp;&nbsp;題:&nbsp;LPC入門（下）&nbsp;<BR>
日&nbsp;&nbsp;期:&nbsp;Thu&nbsp;Jul&nbsp;10&nbsp;11:34:37&nbsp;1997&nbsp;<BR>
&nbsp;<BR>
數組：&nbsp;<BR>
即ARRAY，前面說過，LPC中的數組只要在類型後面加&nbsp;*&nbsp;就可以了&nbsp;<BR>
一般來說數組不用預先定大小&nbsp;<BR>
但若有需要可以用allocate(size)來固定大小。如：a&nbsp;=&nbsp;allocate(10);&nbsp;<BR>
在固定了SIZE之後好處是可以任意用下標定位來對數組元素操作。&nbsp;<BR>
&nbsp;<BR>
我的習慣是不用固定SIZE的數組，因為那樣更自由些。數組的操作在LPC裡是相當強的。&nbsp;<BR>
最常見的是&nbsp;+,&nbsp;-&nbsp;操作，也是最useful的。&nbsp;<BR>
+就是通常的“連接”操作，&nbsp;<BR>
-是集合的“差”操作，如果沒有這兩個概念請看下面例子：&nbsp;<BR>
a&nbsp;==&nbsp;({&nbsp;1,2,2,3,&nbsp;})&nbsp;<BR>
則a&nbsp;+&nbsp;({2,3,4})&nbsp;==&nbsp;({&nbsp;1,2,2,3,2,3,4})&nbsp;<BR>
a&nbsp;-&nbsp;({&nbsp;2,1})&nbsp;==&nbsp;({3})&nbsp;<BR>
&nbsp;<BR>
請注意&nbsp;-&nbsp;的時候會把所有相同的元素都消掉的。&nbsp;<BR>
&nbsp;<BR>
結合上面例子可以知道ARRAY常量的表示方法了，就是&nbsp;({元素,元素,....})&nbsp;<BR>
當然這只是一維數組（事實上我們用一維數組就足夠了，我想）&nbsp;<BR>
在對數組的元素改變的時候，一般可以用直接賦值，如a[3]&nbsp;=&nbsp;2;&nbsp;<BR>
在對數組的元素改變的時候，一般可以用直接賦值，如a[3]&nbsp;=&nbsp;2;&nbsp;<BR>
如何刪除一個元素？假如你確定該元素的值唯一的話可以用&nbsp;-&nbsp;({元素值&nbsp;})&nbsp;<BR>
但要是有同值元素的話就會把它也刪掉了，那不是我們所要的。&nbsp;<BR>
一般常用的方法是把該元素賦一個“不可能值”，或者說“無用值”，&nbsp;<BR>
然後再用&nbsp;-&nbsp;把該元素刪除掉，比如說&nbsp;<BR>
我們確定數組內所有元素都為正，則我們可把那個元素賦值為0然後把數組&nbsp;-=&nbsp;({0})&nbsp;<BR>
&nbsp;<BR>
關於array的一個很有用的函數是member_array&nbsp;<BR>
用法是&nbsp;member_array(元素值，數組，起始下標（可選）&nbsp;）;&nbsp;<BR>
函數返回數組中從下標開始第一個元素值為所搜索值的元素下標。若無則返回-1;&nbsp;<BR>
嗯，LPC的數組是跟C一樣的，下標從0開始到size-1&nbsp;，請注意。&nbsp;<BR>
member_array的參數中起始下標一般可缺省。&nbsp;<BR>
eg:&nbsp;a&nbsp;=&nbsp;({1,2,2,3})&nbsp;<BR>
則&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;member_array(2,a)&nbsp;==&nbsp;1&nbsp;<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;member_array(2,a,2)&nbsp;==&nbsp;2&nbsp;<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;member_array(4,a)&nbsp;==&nbsp;-1&nbsp;<BR>
&nbsp;<BR>
&nbsp;<BR>
ARRAY和MAPPING可以說是LPC裡面最有用和最直接用的結構了。&nbsp;<BR>
再加上兩個功能強大的函數：filter_array&nbsp;和filter_mapping。&nbsp;<BR>
我們有了filter就可以實現對ARRAY，MAPPING裡各元素的過濾操作。&nbsp;<BR>
這樣一來我們就可以實現數據庫的操作了，這樣我們的LPC程序所擁有的功能&nbsp;<BR>
是非常強大了。&nbsp;<BR>
&nbsp;<BR>
最後說一下多維數組的定義方法。&nbsp;<BR>
多維數組一般各維SIZE固定的，有兩種方法定義：&nbsp;<BR>
eg1:&nbsp;<BR>
定義多維數組變量&nbsp;<BR>
&nbsp;&nbsp;&nbsp;a&nbsp;=&nbsp;allocate(10);&nbsp;<BR>
&nbsp;&nbsp;&nbsp;a[0]&nbsp;=&nbsp;allocate(10);&nbsp;<BR>
&nbsp;&nbsp;&nbsp;a[1]&nbsp;=&nbsp;allocate(10);&nbsp;<BR>
&nbsp;&nbsp;&nbsp;...etc...&nbsp;<BR>
也就定義了a&nbsp;[10][10]&nbsp;<BR>
&nbsp;<BR>
eg2:&nbsp;<BR>
用mixed&nbsp;類型&nbsp;=&nbsp;多維數組常量&nbsp;<BR>
&nbsp;&nbsp;&nbsp;mixed&nbsp;a;&nbsp;<BR>
&nbsp;&nbsp;&nbsp;a&nbsp;=&nbsp;({&nbsp;({&nbsp;1,&nbsp;2,&nbsp;3&nbsp;}),&nbsp;({&nbsp;1,&nbsp;2,&nbsp;3&nbsp;})&nbsp;});&nbsp;<BR>
&nbsp;<BR>
&nbsp;<BR>
<A HREF="00000002.htm">上一篇</A>
<A HREF='javascript:history.go(-1)'>返回上一頁</A>
<A HREF="index.htm">回到目錄</A>
<A HREF="#top">回到頁首</A>
<A HREF="00000004.htm">下一篇</A>
</H1></CENTER>
<CENTER><H1>BBS水木清華站︰精華區</H1></CENTER>
</BODY></HTML>