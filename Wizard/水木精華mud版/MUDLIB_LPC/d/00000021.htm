<HTML>
<HEAD>
<TITLE>BBS¤ô¤ì²MµØ¯¸¡JºëµØ°Ï</TITLE>
</HEAD>
<BODY>
<CENTER><H1>BBS¤ô¤ì²MµØ¯¸¡JºëµØ°Ï</H1></CENTER>
<A Name="top"></a>
µo«H¤H:&nbsp;Ranma&nbsp;(¶Ã°¨~~~~~~~µL²á¤¤),&nbsp;«H°Ï:&nbsp;Mud_Builder&nbsp;<BR>
¼Ð&nbsp;&nbsp;ÃD:&nbsp;Lpc&nbsp;advanced&nbsp;(2)&nbsp;<BR>
µo«H¯¸:&nbsp;BBS&nbsp;¤ô¤ì²MµØ¯¸&nbsp;(Mon&nbsp;Oct&nbsp;20&nbsp;09:25:12&nbsp;1997)&nbsp;<BR>
&nbsp;<BR>
&nbsp;&nbsp;<BR>
&nbsp;<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Chapter&nbsp;2&nbsp;<BR>
&nbsp;<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Driver/Mudlib&nbsp;Interaction&nbsp;<BR>
&nbsp;<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;[&nbsp;Chapter&nbsp;1&nbsp;|&nbsp;Chapter&nbsp;3&nbsp;]&nbsp;<BR>
&nbsp;<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;[&nbsp;Index&nbsp;|&nbsp;Glossary&nbsp;]&nbsp;<BR>
&nbsp;<BR>
&nbsp;<BR>
&nbsp;<BR>
2.1&nbsp;Driver&nbsp;Review&nbsp;<BR>
&nbsp;<BR>
In&nbsp;LPC&nbsp;Basics,&nbsp;you&nbsp;learned&nbsp;about&nbsp;the&nbsp;functions&nbsp;create(),&nbsp;reset(),&nbsp;and&nbsp;init().&nbsp;Of&nbsp;course,&nbsp;today&nbsp;the&nbsp;<BR>
actual&nbsp;names&nbsp;of&nbsp;these&nbsp;functions&nbsp;may&nbsp;vary&nbsp;from&nbsp;driver&nbsp;to&nbsp;driver&nbsp;(LPMud&nbsp;3.2.1&nbsp;and&nbsp;DGD&nbsp;have&nbsp;no&nbsp;<BR>
preset&nbsp;name&nbsp;for&nbsp;any&nbsp;of&nbsp;these,&nbsp;and&nbsp;the&nbsp;Nightmare&nbsp;Object&nbsp;Library&nbsp;sets&nbsp;reset&nbsp;times&nbsp;to&nbsp;a&nbsp;huge&nbsp;time&nbsp;such&nbsp;<BR>
that&nbsp;the&nbsp;driver&nbsp;never&nbsp;calls&nbsp;it),&nbsp;but&nbsp;you&nbsp;still&nbsp;have&nbsp;the&nbsp;concept&nbsp;of&nbsp;a&nbsp;constructor&nbsp;function,&nbsp;a&nbsp;periodic&nbsp;<BR>
resetting&nbsp;function,&nbsp;and&nbsp;an&nbsp;an&nbsp;inital&nbsp;contact&nbsp;function.&nbsp;Traditionally&nbsp;these&nbsp;functions&nbsp;were&nbsp;handled&nbsp;as&nbsp;<BR>
driver&nbsp;applies.&nbsp;&nbsp;<BR>
&nbsp;<BR>
Intermediate&nbsp;LPC&nbsp;introduced&nbsp;the&nbsp;main&nbsp;driver&nbsp;loop.&nbsp;This&nbsp;driver&nbsp;loop&nbsp;basically&nbsp;looks&nbsp;for&nbsp;new&nbsp;<BR>
connections&nbsp;passing&nbsp;them&nbsp;to&nbsp;the&nbsp;login&nbsp;object,&nbsp;sends&nbsp;outgoing&nbsp;messages&nbsp;to&nbsp;connected&nbsp;users&nbsp;with&nbsp;<BR>
messages&nbsp;waiting,&nbsp;processes&nbsp;commands&nbsp;for&nbsp;connected&nbsp;users&nbsp;with&nbsp;commands&nbsp;pending,&nbsp;calling&nbsp;heart&nbsp;<BR>
beats,&nbsp;then&nbsp;pending&nbsp;call&nbsp;outs.&nbsp;DGD&nbsp;has&nbsp;no&nbsp;heart&nbsp;beats,&nbsp;and&nbsp;thus&nbsp;skips&nbsp;the&nbsp;heart&nbsp;beat&nbsp;section.&nbsp;&nbsp;<BR>
&nbsp;<BR>
The&nbsp;trend&nbsp;these&nbsp;days&nbsp;is&nbsp;to&nbsp;move&nbsp;away&nbsp;from&nbsp;the&nbsp;init()/add_action()&nbsp;paradigm&nbsp;and&nbsp;do&nbsp;command&nbsp;<BR>
handling&nbsp;almost&nbsp;entirely&nbsp;at&nbsp;the&nbsp;mudlib&nbsp;level.&nbsp;In&nbsp;Chapter&nbsp;5,&nbsp;I&nbsp;discuss&nbsp;advanced&nbsp;command&nbsp;processing.&nbsp;<BR>
No&nbsp;matter&nbsp;how&nbsp;you&nbsp;do&nbsp;it,&nbsp;however,&nbsp;you&nbsp;cannot&nbsp;escape&nbsp;the&nbsp;fact&nbsp;that&nbsp;the&nbsp;driver&nbsp;determines&nbsp;when&nbsp;a&nbsp;<BR>
command&nbsp;is&nbsp;available&nbsp;and&nbsp;calls&nbsp;some&nbsp;mudlib&nbsp;level&nbsp;function&nbsp;to&nbsp;process&nbsp;that&nbsp;command.&nbsp;&nbsp;<BR>
&nbsp;<BR>
In&nbsp;this&nbsp;chapter,&nbsp;you&nbsp;should&nbsp;get&nbsp;a&nbsp;full&nbsp;understanding&nbsp;of&nbsp;how&nbsp;drivers&nbsp;work&nbsp;with&nbsp;mudlibs&nbsp;in&nbsp;general.&nbsp;<BR>
Naturally,&nbsp;each&nbsp;driver&nbsp;has&nbsp;its&nbsp;own&nbsp;peculiarities.&nbsp;In&nbsp;the&nbsp;last&nbsp;year,&nbsp;the&nbsp;exact&nbsp;manner&nbsp;in&nbsp;which&nbsp;the&nbsp;driver&nbsp;<BR>
interacts&nbsp;with&nbsp;the&nbsp;mudlib&nbsp;has&nbsp;started&nbsp;to&nbsp;become&nbsp;the&nbsp;greatest&nbsp;point&nbsp;of&nbsp;divergence&nbsp;of&nbsp;the&nbsp;LPMud&nbsp;<BR>
drivers.&nbsp;To&nbsp;come&nbsp;to&nbsp;a&nbsp;full&nbsp;understanding&nbsp;of&nbsp;how&nbsp;your&nbsp;driver&nbsp;works,&nbsp;you&nbsp;should&nbsp;of&nbsp;course&nbsp;read&nbsp;every&nbsp;<BR>
bit&nbsp;of&nbsp;documentation&nbsp;for&nbsp;your&nbsp;driver.&nbsp;And&nbsp;perhaps&nbsp;even&nbsp;read&nbsp;the&nbsp;source&nbsp;code.&nbsp;&nbsp;<BR>
&nbsp;<BR>
&nbsp;<BR>
&nbsp;<BR>
2.2&nbsp;Basic&nbsp;Objects&nbsp;<BR>
&nbsp;<BR>
Each&nbsp;driver&nbsp;requires&nbsp;at&nbsp;least&nbsp;one&nbsp;special&nbsp;interface&nbsp;object,&nbsp;and&nbsp;most&nbsp;require&nbsp;a&nbsp;second&nbsp;object&nbsp;for&nbsp;<BR>
defining&nbsp;special&nbsp;functions.&nbsp;With&nbsp;DGD,&nbsp;the&nbsp;primary&nbsp;interface&nbsp;between&nbsp;the&nbsp;driver&nbsp;and&nbsp;mudlib&nbsp;is&nbsp;the&nbsp;<BR>
driver&nbsp;object.&nbsp;Other&nbsp;drivers&nbsp;use&nbsp;an&nbsp;object&nbsp;called&nbsp;the&nbsp;master&nbsp;object.&nbsp;In&nbsp;spite&nbsp;of&nbsp;the&nbsp;name&nbsp;difference,&nbsp;<BR>
both&nbsp;objects&nbsp;have&nbsp;the&nbsp;same&nbsp;basic&nbsp;purpose,&nbsp;to&nbsp;allow&nbsp;the&nbsp;driver&nbsp;interact&nbsp;in&nbsp;a&nbsp;few&nbsp;selective&nbsp;cases&nbsp;<BR>
where&nbsp;it&nbsp;needs&nbsp;to&nbsp;with&nbsp;the&nbsp;mudlib.&nbsp;&nbsp;<BR>
&nbsp;<BR>
The&nbsp;difference&nbsp;between&nbsp;DGD&nbsp;and&nbsp;the&nbsp;other&nbsp;drivers&nbsp;becomes&nbsp;more&nbsp;pronounced&nbsp;with&nbsp;the&nbsp;other&nbsp;basic&nbsp;<BR>
mudlib&nbsp;object,&nbsp;the&nbsp;auto&nbsp;object&nbsp;for&nbsp;DGD&nbsp;and&nbsp;the&nbsp;simul&nbsp;efun&nbsp;object&nbsp;for&nbsp;others.&nbsp;To&nbsp;the&nbsp;end&nbsp;area&nbsp;<BR>
builder,&nbsp;an&nbsp;auto&nbsp;object&nbsp;acts&nbsp;just&nbsp;like&nbsp;a&nbsp;simul&nbsp;efun&nbsp;object&nbsp;does,&nbsp;with&nbsp;some&nbsp;minor&nbsp;exceptions.&nbsp;Namely,&nbsp;<BR>
both&nbsp;objects&nbsp;are&nbsp;used&nbsp;to&nbsp;define&nbsp;special&nbsp;functions&nbsp;considered&nbsp;local&nbsp;to&nbsp;all&nbsp;objects&nbsp;as&nbsp;well&nbsp;as&nbsp;override&nbsp;<BR>
efuns/kfuns.&nbsp;&nbsp;<BR>
&nbsp;<BR>
The&nbsp;differences&nbsp;are&nbsp;certainly&nbsp;much&nbsp;more&nbsp;in&nbsp;depth&nbsp;than&nbsp;I&nbsp;noted&nbsp;above.&nbsp;Most&nbsp;of&nbsp;the&nbsp;differences,&nbsp;<BR>
however,&nbsp;are&nbsp;only&nbsp;truly&nbsp;of&nbsp;interest&nbsp;to&nbsp;people&nbsp;dealing&nbsp;with&nbsp;the&nbsp;internals&nbsp;of&nbsp;driver&nbsp;design.&nbsp;Those&nbsp;<BR>
differences&nbsp;which&nbsp;are&nbsp;relevant&nbsp;to&nbsp;mudlib&nbsp;design&nbsp;will&nbsp;be&nbsp;discussed&nbsp;in&nbsp;the&nbsp;section&nbsp;on&nbsp;each&nbsp;pair&nbsp;of&nbsp;<BR>
objects&nbsp;below.&nbsp;&nbsp;<BR>
&nbsp;<BR>
&nbsp;<BR>
&nbsp;<BR>
2.3&nbsp;The&nbsp;master&nbsp;and&nbsp;driver&nbsp;objects&nbsp;<BR>
&nbsp;<BR>
The&nbsp;primary&nbsp;interface&nbsp;between&nbsp;the&nbsp;driver&nbsp;and&nbsp;the&nbsp;mudlib&nbsp;is&nbsp;the&nbsp;master&nbsp;object,&nbsp;or&nbsp;the&nbsp;driver&nbsp;object&nbsp;<BR>
on&nbsp;DGD&nbsp;muds.&nbsp;Though&nbsp;certainly&nbsp;not&nbsp;identical,&nbsp;they&nbsp;serve&nbsp;the&nbsp;same&nbsp;purpose&nbsp;for&nbsp;the&nbsp;drivers&nbsp;in&nbsp;which&nbsp;<BR>
they&nbsp;are&nbsp;used,&nbsp;namely&nbsp;to&nbsp;server&nbsp;as&nbsp;the&nbsp;focus&nbsp;for&nbsp;encapsulating&nbsp;queries&nbsp;the&nbsp;driver&nbsp;makes&nbsp;of&nbsp;the&nbsp;<BR>
mudlib.&nbsp;DGD&nbsp;attempts&nbsp;to&nbsp;limit&nbsp;this&nbsp;severely,&nbsp;and&nbsp;thus&nbsp;the&nbsp;actual&nbsp;make&nbsp;up&nbsp;of&nbsp;the&nbsp;DGD&nbsp;driver&nbsp;object&nbsp;<BR>
is&nbsp;quite&nbsp;different&nbsp;from&nbsp;that&nbsp;of&nbsp;the&nbsp;master&nbsp;object&nbsp;for&nbsp;other&nbsp;drivers.&nbsp;&nbsp;<BR>
&nbsp;<BR>
The&nbsp;primary&nbsp;task&nbsp;common&nbsp;to&nbsp;both&nbsp;the&nbsp;master&nbsp;object&nbsp;and&nbsp;driver&nbsp;object&nbsp;is&nbsp;to&nbsp;identify&nbsp;to&nbsp;which&nbsp;object&nbsp;<BR>
an&nbsp;incominng&nbsp;connection&nbsp;should&nbsp;be&nbsp;attached.&nbsp;&nbsp;<BR>
&nbsp;<BR>
Copyright&nbsp;©&nbsp;1995&nbsp;George&nbsp;Reese&nbsp;(<A HREF="mailto:borg@imaginary.com)">borg@imaginary.com)</A>&nbsp;&nbsp;<BR>
&nbsp;<BR>
--&nbsp;<BR>
¤p¼Ó¤@©]Å¥¬î«B&nbsp;<BR>
--&nbsp;<BR>
¦î­Ê¦M¼Ó­·²Ó²Ó&nbsp;±æ·¥¬K·T&nbsp;ÅfÅf¥Í¤Ñ»Ú&nbsp;&nbsp;¯ó¦â·Ï¥ú´Ý·Ó¸Ì&nbsp;µL¨¥½Ö·|¾ÌÄæ·N[0&nbsp;<BR>
ÀÀ§â²¨¨g¹Ï¤@¾K&nbsp;¹ï°s·íºq&nbsp;±j¼ÖÁÙµL¨ý&nbsp;&nbsp;¦ç±aº¥¼e²×¤£®¬&nbsp;¬°¥ì®ø±o¤H¼¬±|&nbsp;<BR>
&nbsp;<BR>
¡°&nbsp;¨Ó·½:¡EBBS&nbsp;¤ô¤ì²MµØ¯¸&nbsp;bbs.net.tsinghua.edu.cn¡E[FROM:&nbsp;166.111.5.25]&nbsp;<BR>
<A HREF="00000021.htm">¤W¤@½g</A>
<A HREF='javascript:history.go(-1)'>ªð¦^¤W¤@­¶</A>
<A HREF="index.htm">¦^¨ì¥Ø¿ý</A>
<A HREF="#top">¦^¨ì­¶­º</A>
</CENTER>
<CENTER><H1>BBS¤ô¤ì²MµØ¯¸¡JºëµØ°Ï</H1></CENTER>
</BODY></HTML>