<HTML>
<HEAD>
<TITLE>BBS水木清华站∶精华区</TITLE>
</HEAD>
<BODY>
<CENTER><H1>BBS水木清华站∶精华区</H1></CENTER>
<A Name="top"></a>
发信人:&nbsp;Qyz&nbsp;(逡巡..在夜半空旷的校园),&nbsp;信区:&nbsp;Mud_Builder&nbsp;<BR>
标&nbsp;&nbsp;题:&nbsp;关于InterMUD-3(7)&nbsp;<BR>
发信站:&nbsp;BBS&nbsp;水木清华站&nbsp;(Sun&nbsp;Jan&nbsp;11&nbsp;21:28:36&nbsp;1998)&nbsp;<BR>
&nbsp;<BR>
&nbsp;<BR>
Service:&nbsp;news&nbsp;<BR>
&nbsp;<BR>
###&nbsp;work&nbsp;to&nbsp;do&nbsp;here...&nbsp;this&nbsp;is&nbsp;an&nbsp;OOB&nbsp;service,&nbsp;also&nbsp;<BR>
employing&nbsp;the&nbsp;auth&nbsp;service&nbsp;###&nbsp;<BR>
&nbsp;<BR>
This&nbsp;packet&nbsp;is&nbsp;used&nbsp;to&nbsp;transmit&nbsp;a&nbsp;request&nbsp;for&nbsp;a&nbsp;post&nbsp;to&nbsp;a&nbsp;<BR>
remote&nbsp;mud's&nbsp;news&nbsp;server&nbsp;(via&nbsp;the&nbsp;OOB&nbsp;network).&nbsp;This&nbsp;<BR>
connection&nbsp;should&nbsp;not&nbsp;disconnect&nbsp;from&nbsp;the&nbsp;server&nbsp;until&nbsp;it&nbsp;is&nbsp;<BR>
done&nbsp;dealing&nbsp;with&nbsp;it&nbsp;for&nbsp;the&nbsp;forseeable&nbsp;future.&nbsp;Instead,&nbsp;it&nbsp;<BR>
should&nbsp;exchange&nbsp;messages&nbsp;in&nbsp;lockstep&nbsp;with&nbsp;the&nbsp;server.&nbsp;<BR>
&nbsp;<BR>
&nbsp;<BR>
&nbsp;&nbsp;&nbsp;&nbsp;({&nbsp;<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(string)&nbsp;&quot;news-read-req&quot;,&nbsp;<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(int)&nbsp;&nbsp;&nbsp;&nbsp;5,&nbsp;<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(string)&nbsp;originator_mudname,&nbsp;<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(string)&nbsp;originator_username,&nbsp;<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(string)&nbsp;0,&nbsp;<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(string)&nbsp;0,&nbsp;<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(string)&nbsp;newsgroup_name,&nbsp;<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(int)&nbsp;&nbsp;&nbsp;&nbsp;id,&nbsp;<BR>
&nbsp;&nbsp;&nbsp;&nbsp;})&nbsp;<BR>
&nbsp;<BR>
&nbsp;<BR>
&nbsp;<BR>
&nbsp;<BR>
The&nbsp;server&nbsp;response&nbsp;for&nbsp;this&nbsp;request&nbsp;takes&nbsp;the&nbsp;following&nbsp;<BR>
form:&nbsp;<BR>
&nbsp;<BR>
&nbsp;<BR>
&nbsp;&nbsp;&nbsp;&nbsp;({&nbsp;<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(int)&nbsp;&nbsp;&nbsp;&nbsp;posting_time,&nbsp;<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(string)&nbsp;thread_id,&nbsp;<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(string)&nbsp;subject,&nbsp;<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(string)&nbsp;poster,&nbsp;<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(string)&nbsp;contents&nbsp;<BR>
&nbsp;&nbsp;&nbsp;&nbsp;})&nbsp;<BR>
&nbsp;<BR>
&nbsp;<BR>
To&nbsp;post&nbsp;a&nbsp;message,&nbsp;send&nbsp;the&nbsp;following&nbsp;packet:&nbsp;<BR>
&nbsp;<BR>
&nbsp;<BR>
&nbsp;&nbsp;&nbsp;&nbsp;({&nbsp;<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(string)&nbsp;&quot;news-post-req&quot;,&nbsp;<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(string)&nbsp;originator_mudname,&nbsp;<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(int)&nbsp;&nbsp;&nbsp;&nbsp;mud_login_port,&nbsp;<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(string)&nbsp;mewsgroup,&nbsp;<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(string)&nbsp;thread_id,&nbsp;<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(string)&nbsp;subject,&nbsp;<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(string)&nbsp;poster,&nbsp;<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(string)&nbsp;contents&nbsp;<BR>
&nbsp;&nbsp;&nbsp;&nbsp;})&nbsp;<BR>
&nbsp;<BR>
&nbsp;<BR>
&nbsp;<BR>
&nbsp;<BR>
Notice&nbsp;that&nbsp;this&nbsp;packed&nbsp;does&nbsp;not&nbsp;follow&nbsp;the&nbsp;standard&nbsp;packet&nbsp;<BR>
form,&nbsp;because&nbsp;it&nbsp;is&nbsp;not&nbsp;transmitted&nbsp;over&nbsp;the&nbsp;in&nbsp;band&nbsp;<BR>
network.&nbsp;The&nbsp;server&nbsp;response&nbsp;should&nbsp;be&nbsp;an&nbsp;integer&nbsp;<BR>
representing&nbsp;the&nbsp;id&nbsp;of&nbsp;the&nbsp;post,&nbsp;or&nbsp;an&nbsp;error&nbsp;packet.&nbsp;<BR>
&nbsp;<BR>
To&nbsp;request&nbsp;a&nbsp;list&nbsp;of&nbsp;newsgroups,&nbsp;send&nbsp;the&nbsp;following&nbsp;packet:&nbsp;<BR>
&nbsp;<BR>
&nbsp;<BR>
&nbsp;&nbsp;&nbsp;&nbsp;({&nbsp;<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(string)&nbsp;&quot;news-grplist-req&quot;&nbsp;<BR>
&nbsp;&nbsp;&nbsp;&nbsp;})&nbsp;<BR>
&nbsp;<BR>
&nbsp;<BR>
&nbsp;<BR>
&nbsp;<BR>
The&nbsp;response&nbsp;from&nbsp;the&nbsp;server&nbsp;should&nbsp;be&nbsp;an&nbsp;array&nbsp;containing&nbsp;<BR>
an&nbsp;array&nbsp;for&nbsp;each&nbsp;available&nbsp;group.&nbsp;This&nbsp;array&nbsp;should&nbsp;contain&nbsp;<BR>
the&nbsp;following&nbsp;data:&nbsp;<BR>
&nbsp;<BR>
&nbsp;<BR>
&nbsp;&nbsp;&nbsp;&nbsp;({&nbsp;<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(string)&nbsp;group_name,&nbsp;<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(int)&nbsp;&nbsp;&nbsp;&nbsp;first_post_id,&nbsp;<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(int)&nbsp;&nbsp;&nbsp;&nbsp;last_post_id&nbsp;<BR>
&nbsp;&nbsp;&nbsp;&nbsp;})&nbsp;<BR>
&nbsp;<BR>
&nbsp;<BR>
&nbsp;<BR>
&nbsp;<BR>
Service:&nbsp;mail&nbsp;<BR>
&nbsp;<BR>
This&nbsp;packet&nbsp;is&nbsp;used&nbsp;to&nbsp;deliver&nbsp;a&nbsp;mail&nbsp;message&nbsp;to&nbsp;a&nbsp;remote&nbsp;<BR>
mud.&nbsp;It&nbsp;will&nbsp;be&nbsp;delivered&nbsp;over&nbsp;the&nbsp;OOB&nbsp;network&nbsp;(i.e.,&nbsp;over&nbsp;a&nbsp;<BR>
direct&nbsp;TCP&nbsp;connection&nbsp;to&nbsp;the&nbsp;target&nbsp;mud's&nbsp;out-of-band&nbsp;TCP&nbsp;<BR>
port).&nbsp;It&nbsp;has&nbsp;the&nbsp;following&nbsp;form:&nbsp;<BR>
&nbsp;<BR>
&nbsp;<BR>
&nbsp;&nbsp;&nbsp;&nbsp;({&nbsp;<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(string)&nbsp;&nbsp;&nbsp;&quot;mail&quot;,&nbsp;<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(int)&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;id,&nbsp;<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(string)&nbsp;&nbsp;&nbsp;orig_user,&nbsp;<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(mapping)&nbsp;&nbsp;to_list,&nbsp;<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(mapping)&nbsp;&nbsp;cc_list,&nbsp;<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(string&nbsp;*)&nbsp;bcc_list,&nbsp;<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(int)&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;send_time,&nbsp;<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(string)&nbsp;&nbsp;&nbsp;subject,&nbsp;<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(string)&nbsp;&nbsp;&nbsp;contents,&nbsp;<BR>
&nbsp;&nbsp;&nbsp;&nbsp;})&nbsp;<BR>
&nbsp;<BR>
&nbsp;<BR>
&nbsp;<BR>
&nbsp;<BR>
Where&nbsp;to_list&nbsp;and&nbsp;cc_list&nbsp;are&nbsp;mappings&nbsp;of&nbsp;the&nbsp;following&nbsp;<BR>
format&nbsp;:&nbsp;<BR>
&nbsp;<BR>
&nbsp;<BR>
&nbsp;&nbsp;&nbsp;&nbsp;([&nbsp;<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;MUD-A&nbsp;:&nbsp;({&nbsp;user-1,&nbsp;user-2,&nbsp;}),&nbsp;<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;MUD-B&nbsp;:&nbsp;({&nbsp;user-1,&nbsp;user-2,&nbsp;}),&nbsp;<BR>
&nbsp;&nbsp;&nbsp;&nbsp;])&nbsp;<BR>
&nbsp;<BR>
&nbsp;<BR>
&nbsp;<BR>
and&nbsp;bcc_list&nbsp;is&nbsp;an&nbsp;array&nbsp;of&nbsp;the&nbsp;users&nbsp;at&nbsp;the&nbsp;target&nbsp;mud&nbsp;<BR>
only.&nbsp;<BR>
&nbsp;<BR>
Mail&nbsp;is&nbsp;acknoleged&nbsp;by&nbsp;the&nbsp;use&nbsp;of&nbsp;a&nbsp;&quot;mail-ack&quot;&nbsp;packet.&nbsp;<BR>
&nbsp;<BR>
&nbsp;<BR>
&nbsp;&nbsp;&nbsp;&nbsp;({&nbsp;<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(string)&nbsp;&nbsp;&nbsp;&quot;mail-ack&quot;,&nbsp;<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(mapping)&nbsp;&nbsp;ack_list,&nbsp;<BR>
&nbsp;&nbsp;&nbsp;&nbsp;})&nbsp;<BR>
&nbsp;<BR>
&nbsp;<BR>
&nbsp;<BR>
Where&nbsp;ack_list&nbsp;is&nbsp;a&nbsp;mapping&nbsp;whose&nbsp;keys&nbsp;are&nbsp;the&nbsp;id's&nbsp;that&nbsp;<BR>
have&nbsp;been&nbsp;acknowleged,&nbsp;and&nbsp;the&nbsp;values&nbsp;are&nbsp;arrays&nbsp;of&nbsp;the&nbsp;<BR>
failures.&nbsp;NB:&nbsp;mail&nbsp;is&nbsp;an&nbsp;OOB&nbsp;service,&nbsp;and&nbsp;employs&nbsp;the&nbsp;auth&nbsp;<BR>
service.&nbsp;Errors&nbsp;must&nbsp;be&nbsp;sent&nbsp;via&nbsp;the&nbsp;OOB&nbsp;network&nbsp;<BR>
&nbsp;<BR>
--&nbsp;<BR>
蠢蠢欲动&nbsp;<BR>
&nbsp;<BR>
※&nbsp;来源:・BBS&nbsp;水木清华站&nbsp;bbs.net.tsinghua.edu.cn・[FROM:&nbsp;166.111.26.20]&nbsp;<BR>
<A HREF="00000005.htm">上一篇</A>
<A HREF='javascript:history.go(-1)'>返回上一页</A>
<A HREF="index.htm">回到目录</A>
<A HREF="#top">回到页首</A>
<A HREF="00000007.htm">下一篇</A>
</H1></CENTER>
<CENTER><H1>BBS水木清华站∶精华区</H1></CENTER>
</BODY></HTML>