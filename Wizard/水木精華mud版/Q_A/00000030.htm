<HTML>
<HEAD>
<TITLE>BBS水木清華站︰精華區</TITLE>
</HEAD>
<BODY>
<CENTER><H1>BBS水木清華站︰精華區</H1></CENTER>
<A Name="top"></a>
發信人:&nbsp;q2&nbsp;(Another&nbsp;Brick),&nbsp;信區:&nbsp;Mud_Builder&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<BR>
&nbsp;<BR>
&nbsp;&nbsp;在一個巫師的房間裡有一個屏蔽命令的room，其中&nbsp;<BR>
初始化裡有這樣的一句：add_action(&quot;block_cmd&quot;,&quot;&quot;,1);&nbsp;&nbsp;&nbsp;&nbsp;<BR>
我查了efun的函數幫助，但是好像add_action後只有&nbsp;<BR>
兩個參數啊，不知這裡第二個參數的空字符串是什麼&nbsp;<BR>
意思？&nbsp;<BR>
&nbsp;&nbsp;這個block_cmd函數是這樣的：&nbsp;<BR>
int&nbsp;block_cmd()&nbsp;<BR>
{&nbsp;<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;string&nbsp;verb&nbsp;=&nbsp;query_verb();&nbsp;<BR>
&nbsp;<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;(verb==&quot;say&quot;)&nbsp;return&nbsp;0;&nbsp;//allow&nbsp;say&nbsp;<BR>
&nbsp;if&nbsp;(verb==&quot;help&quot;)&nbsp;return&nbsp;0;&nbsp;<BR>
&nbsp;if&nbsp;(verb==&quot;look&quot;)&nbsp;return&nbsp;0;&nbsp;<BR>
&nbsp;return&nbsp;1;&nbsp;<BR>
}&nbsp;<BR>
&nbsp;<BR>
&nbsp;<BR>
&nbsp;<BR>
發信人:&nbsp;Ranma&nbsp;(亂馬貓~~繁星似塵),&nbsp;信區:&nbsp;Mud_Builder&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<BR>
&nbsp;<BR>
你看的哪個函數幫助？本版精華區的函數幫助&nbsp;<BR>
肯定是三個參數。這段函數的意思是除了&nbsp;<BR>
say/look/help命令之外，其他命令一律屏蔽。&nbsp;<BR>
&nbsp;<BR>
【&nbsp;在&nbsp;q2&nbsp;(Another&nbsp;Brick)&nbsp;的大作中提到:&nbsp;】&nbsp;<BR>
︰<I>&nbsp;&nbsp;&nbsp;在一個巫師的房間裡有一個屏蔽命令的room，其中&nbsp;</I><BR>
︰<I>&nbsp;初始化裡有這樣的一句：add_action(&quot;block_cmd&quot;,&quot;&quot;,1);&nbsp;&nbsp;&nbsp;&nbsp;</I><BR>
︰<I>&nbsp;我查了efun的函數幫助，但是好像add_action後只有&nbsp;</I><BR>
︰<I>&nbsp;兩個參數啊，不知這裡第二個參數的空字符串是什麼&nbsp;</I><BR>
︰<I>&nbsp;意思？&nbsp;</I><BR>
︰<I>&nbsp;&nbsp;&nbsp;這個block_cmd函數是這樣的：&nbsp;</I><BR>
︰<I>&nbsp;int&nbsp;block_cmd()&nbsp;</I><BR>
︰<I>&nbsp;{&nbsp;</I><BR>
︰<I>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;string&nbsp;verb&nbsp;=&nbsp;query_verb();&nbsp;</I><BR>
︰<I>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;(verb==&quot;say&quot;)&nbsp;return&nbsp;0;&nbsp;//allow&nbsp;say&nbsp;</I><BR>
︰<I>&nbsp;&nbsp;if&nbsp;(verb==&quot;help&quot;)&nbsp;return&nbsp;0;&nbsp;</I><BR>
︰<I>&nbsp;&nbsp;if&nbsp;(verb==&quot;look&quot;)&nbsp;return&nbsp;0;&nbsp;</I><BR>
︰<I>&nbsp;&nbsp;return&nbsp;1;&nbsp;</I><BR>
︰<I>&nbsp;}&nbsp;</I><BR>
&nbsp;<BR>
&nbsp;<BR>
&nbsp;<BR>
&nbsp;<BR>
發信人:&nbsp;q2&nbsp;(Another&nbsp;Brick),&nbsp;信區:&nbsp;Mud_Builder&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<BR>
&nbsp;<BR>
【&nbsp;在&nbsp;Ranma&nbsp;(亂馬貓~~繁星似塵)&nbsp;的大作中提到:&nbsp;】&nbsp;<BR>
︰<I>&nbsp;你看的哪個函數幫助？本版精華區的函數幫助&nbsp;</I><BR>
︰<I>&nbsp;肯定是三個參數。這段函數的意思是除了&nbsp;</I><BR>
︰<I>&nbsp;say/look/help命令之外，其他命令一律屏蔽。&nbsp;</I><BR>
&nbsp;<BR>
&nbsp;&nbsp;&nbsp;&nbsp;我知道這個函數是屏蔽命令的，問題是第二個參數&nbsp;<BR>
verb給寫成一個空字符串是什麼意思？是不賦值嗎？還是&nbsp;<BR>
別的意思？另外第三個參數是幹嘛用的呢？&nbsp;<BR>
&nbsp;<BR>
&nbsp;<BR>
&nbsp;<BR>
發信人:&nbsp;Ranma&nbsp;(亂馬貓~~繁星似塵),&nbsp;信區:&nbsp;Mud_Builder&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<BR>
&nbsp;<BR>
第三個參數如果為1表示只要玩家命令的前半部分&nbsp;<BR>
符合第二個參數，即發生函數調用。&nbsp;<BR>
所以第二參數為&quot;&quot;，第三參數為1，表示對玩家敲&nbsp;<BR>
入的任何命令均截獲&nbsp;<BR>
【&nbsp;在&nbsp;q2&nbsp;(Another&nbsp;Brick)&nbsp;的大作中提到:&nbsp;】&nbsp;<BR>
︰<I>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;我知道這個函數是屏蔽命令的，問題是第二個參數&nbsp;</I><BR>
︰<I>&nbsp;verb給寫成一個空字符串是什麼意思？是不賦值嗎？還是&nbsp;</I><BR>
︰<I>&nbsp;別的意思？另外第三個參數是幹嘛用的呢？&nbsp;</I><BR>
&nbsp;<BR>
&nbsp;<BR>
&nbsp;<BR>
&nbsp;<BR>
<A HREF="00000029.htm">上一篇</A>
<A HREF='javascript:history.go(-1)'>返回上一頁</A>
<A HREF="index.htm">回到目錄</A>
<A HREF="#top">回到頁首</A>
<A HREF="00000031.htm">下一篇</A>
</H1></CENTER>
<CENTER><H1>BBS水木清華站︰精華區</H1></CENTER>
</BODY></HTML>