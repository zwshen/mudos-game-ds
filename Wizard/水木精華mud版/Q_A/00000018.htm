<HTML>
<HEAD>
<TITLE>BBS水木清華站︰精華區</TITLE>
</HEAD>
<BODY>
<CENTER><H1>BBS水木清華站︰精華區</H1></CENTER>
<A Name="top"></a>
發信人:&nbsp;peacock&nbsp;(孔雀明王),&nbsp;信區:&nbsp;Mud_Builder&nbsp;<BR>
標&nbsp;&nbsp;題:&nbsp;Re:&nbsp;怎麼做活動出口的ROOM?&nbsp;<BR>
發信站:&nbsp;BBS&nbsp;水木清華站&nbsp;(Fri&nbsp;Jan&nbsp;30&nbsp;14:30:25&nbsp;1998)&nbsp;<BR>
&nbsp;<BR>
【&nbsp;在&nbsp;tjb&nbsp;(老六)&nbsp;的大作中提到:&nbsp;】&nbsp;<BR>
︰<I>&nbsp;如果人死了就調die()造一個corpse把人移到&nbsp;</I><BR>
︰<I>&nbsp;DEATH_ROOM,&nbsp;能不能做一個room當一個ROOM&nbsp;</I><BR>
︰<I>&nbsp;毀了就做一個廢虛放在原ROOM處並有原ROOM&nbsp;</I><BR>
︰<I>&nbsp;一樣的出口,&nbsp;就是說能不能做一個ROOM可以在&nbsp;</I><BR>
︰<I>&nbsp;runtime來設置其出口?&nbsp;</I><BR>
︰<I>&nbsp;urs&nbsp;TJB&nbsp;</I><BR>
當然可以啦，比如你可以給這間room加上巫師權限，&nbsp;<BR>
然後把自己mv成一個備用文件，再把準備好的廢墟mv&nbsp;<BR>
成現在的文件名，再把自己update一把就搞定了。&nbsp;<BR>
&nbsp;<BR>
這個方法有點土。不然你可以讓這間房間save_object&nbsp;<BR>
一下，在放火的時候把什麼short啦，long啦，object&nbsp;<BR>
啦，通通改掉，下次創生的時候load_object不就萬事&nbsp;<BR>
大吉了嗎？&nbsp;<BR>
&nbsp;<BR>
還可以順便吹噓一下什麼“中國第一個全動態的Mud”，&nbsp;<BR>
“給你殺人放火、挑寨滅門的空間”等等。當然，這種&nbsp;<BR>
宣傳的東西，你還是要請教一下“縱橫”的巫師。我是&nbsp;<BR>
不在行的。&nbsp;<BR>
&nbsp;<BR>
--&nbsp;<BR>
※&nbsp;來源:•BBS&nbsp;水木清華站&nbsp;bbs.net.tsinghua.edu.cn•[FROM:&nbsp;166.111.8.123]&nbsp;<BR>
發信人:&nbsp;Ranma&nbsp;(亂馬~~想和你去吹吹風),&nbsp;信區:&nbsp;Mud_Builder&nbsp;<BR>
標&nbsp;&nbsp;題:&nbsp;Re:&nbsp;怎麼做活動出口的ROOM?&nbsp;&nbsp;<BR>
發信站:&nbsp;BBS&nbsp;水木清華站&nbsp;(Sat&nbsp;Jan&nbsp;31&nbsp;01:04:04&nbsp;1998)&nbsp;WWW-POST&nbsp;<BR>
&nbsp;<BR>
如果這間room是要永久性地摧毀，也就是說，就算&nbsp;<BR>
mud重起，也是廢墟了，那就要用peacock說的辦法，&nbsp;<BR>
不過要真那樣，我還捨不得，巫師千辛萬苦寫的&nbsp;<BR>
room，特別是描述什麼的，一滅門什麼的就泡湯了，&nbsp;<BR>
再也看不到了，看到的都是冷冰冰千篇一律的廢墟什麼&nbsp;<BR>
的，是不是有點可惜呀。&nbsp;<BR>
【&nbsp;在&nbsp;minux&nbsp;(minux)&nbsp;的大作中提到:&nbsp;】&nbsp;<BR>
︰<I>&nbsp;【&nbsp;在&nbsp;tjb&nbsp;(老六)&nbsp;的大作中提到:&nbsp;】&nbsp;</I><BR>
︰<I>&nbsp;:&nbsp;如果人死了就調die()造一個corpse把人移到&nbsp;</I><BR>
︰<I>&nbsp;:&nbsp;DEATH_ROOM,&nbsp;能不能做一個room當一個ROOM&nbsp;</I><BR>
︰<I>&nbsp;:&nbsp;毀了就做一個廢虛放在原ROOM處並有原ROOM&nbsp;</I><BR>
︰<I>&nbsp;:&nbsp;一樣的出口,&nbsp;就是說能不能做一個ROOM可以在&nbsp;</I><BR>
︰<I>&nbsp;:&nbsp;runtime來設置其出口?&nbsp;</I><BR>
︰<I>&nbsp;:&nbsp;urs&nbsp;TJB&nbsp;</I><BR>
︰<I>&nbsp;&nbsp;</I><BR>
︰<I>&nbsp;其實room只是一些dbase的屬性和函數的結合而已&nbsp;</I><BR>
︰<I>&nbsp;dbase屬性是隨時可以set的&nbsp;</I><BR>
︰<I>&nbsp;而room裡面的函數也可以在寫ROOM的時候自己掌握&nbsp;</I><BR>
︰<I>&nbsp;&nbsp;</I><BR>
︰<I>&nbsp;隨時都可以改變的啊。&nbsp;</I><BR>
︰<I>&nbsp;其實就跟雞腿吃光了就變樣一樣而已啦&nbsp;</I><BR>
︰<I>&nbsp;&nbsp;</I><BR>
︰<I>&nbsp;&nbsp;</I><BR>
&nbsp;<BR>
※&nbsp;來源:•BBS&nbsp;水木清華站&nbsp;bbs.net.tsinghua.edu.cn•[FROM:&nbsp;202.99.63.76]&nbsp;&nbsp;<BR>
發信人:&nbsp;peacock&nbsp;(孔雀明王),&nbsp;信區:&nbsp;Mud_Builder&nbsp;<BR>
標&nbsp;&nbsp;題:&nbsp;Re:&nbsp;怎麼做活動出口的ROOM?&nbsp;<BR>
發信站:&nbsp;BBS&nbsp;水木清華站&nbsp;(Sat&nbsp;Jan&nbsp;31&nbsp;19:29:10&nbsp;1998)&nbsp;<BR>
&nbsp;<BR>
【&nbsp;在&nbsp;tjb&nbsp;(老六)&nbsp;的大作中提到:&nbsp;】&nbsp;<BR>
︰<I>&nbsp;老兄不要這麼麻煩吧,&nbsp;我已經想通了,&nbsp;就想player&nbsp;</I><BR>
︰<I>&nbsp;die()一樣,&nbsp;做一個&quot;費墟&quot;再query(&quot;exits&quot;)加到這個&nbsp;</I><BR>
︰<I>&nbsp;廢墟,&nbsp;找到於exits連的room將exits指向這個&quot;費墟&quot;&nbsp;</I><BR>
︰<I>&nbsp;想簡單就改/std/room.c(ROOM)想繁些就另做一個來&nbsp;</I><BR>
︰<I>&nbsp;繼承.&nbsp;</I><BR>
這個當然是可以的。我沒弄明白你的意思。我還以為你&nbsp;<BR>
想讓讓它長時間地保持這個廢墟狀態，等門人完成了什&nbsp;<BR>
麼再來“重建”什麼的。要是臨時的話這樣就可以了。&nbsp;<BR>
&nbsp;<BR>
不過你的方法還是有點問題，比如有個相鄰的房間由於&nbsp;<BR>
沒人，被cleanup了，在別人再走到這間房引起載入的&nbsp;<BR>
時候新的房間又回通向原來的room了。你明白我的意思&nbsp;<BR>
嗎？就是說臨時的修改最好不要跨object。否則在兩邊&nbsp;<BR>
不一致的時候就會出問題。所以我還是建議你改動那間&nbsp;<BR>
room的short和long。這樣不跨room。&nbsp;<BR>
︰<I>&nbsp;另:&nbsp;要跟這位老哥說一聲,&nbsp;做MUDLIB也許你是為吹噓&nbsp;</I><BR>
︰<I>&nbsp;但也要想到很多巫師做MUDLIB是因為喜愛MUD本身,&nbsp;&nbsp;</I><BR>
︰<I>&nbsp;要對縱橫有意見完全可以找他們提:p&nbsp;我可和ZH沒關&nbsp;</I><BR>
呵呵，有人報不平了。*_^&nbsp;<BR>
我不是那個意思，只是我那天剛看了縱橫的介紹，覺得&nbsp;<BR>
很搞笑而已。有些大家都在用的技術被他們提高到了理&nbsp;<BR>
論的高度，乍一看實在是很唬人耶。所以我當時實在是&nbsp;<BR>
……太……興奮了！&nbsp;<BR>
&nbsp;<BR>
--&nbsp;<BR>
※&nbsp;來源:•BBS&nbsp;水木清華站&nbsp;bbs.net.tsinghua.edu.cn•[FROM:&nbsp;166.111.8.130]&nbsp;<BR>
發信人:&nbsp;Ranma&nbsp;(亂馬~~想和你去吹吹風),&nbsp;信區:&nbsp;Mud_Builder&nbsp;<BR>
標&nbsp;&nbsp;題:&nbsp;Re:&nbsp;怎麼做活動出口的ROOM?&nbsp;<BR>
發信站:&nbsp;BBS&nbsp;水木清華站&nbsp;(Sat&nbsp;Jan&nbsp;31&nbsp;20:02:47&nbsp;1998)&nbsp;<BR>
&nbsp;<BR>
給相連接的room&nbsp;set(&quot;no_clean,up&quot;,1)就行了，&nbsp;<BR>
︰<I>PPP不過這樣當然不行，如果你用改變相鄰房間的&nbsp;</I><BR>
指向的方法，不知你(tjb)想過沒有，至少還有兩個嚴重的問題，&nbsp;<BR>
1.廢墟的room只有一個，如果你有兩處廢墟，分別走到兩處廢墟的玩家可就殊途同歸，&nbsp;<BR>
大家穿梭時空，走到一起會合了，&nbsp;<BR>
2.同樣，這間廢墟的出口怎麼設？到底通到什麼地方去呢？&nbsp;<BR>
這兩個問題其實是一個問題，就是room是load-object進內存，&nbsp;<BR>
而不是new進內存的，在內存裡，room只能有一個副本，這和&nbsp;<BR>
char與item不同，如果room也是new進內存的話，那可&nbsp;<BR>
真是四度空間了，兩個玩家明明走到同一間room，卻怎麼著&nbsp;<BR>
也見不到了&nbsp;<BR>
【&nbsp;在&nbsp;peacock&nbsp;(孔雀明王)&nbsp;的大作中提到:&nbsp;】&nbsp;<BR>
︰<I>&nbsp;這個當然是可以的。我沒弄明白你的意思。我還以為你&nbsp;</I><BR>
︰<I>&nbsp;想讓讓它長時間地保持這個廢墟狀態，等門人完成了什&nbsp;</I><BR>
︰<I>&nbsp;麼再來“重建”什麼的。要是臨時的話這樣就可以了。&nbsp;</I><BR>
︰<I>&nbsp;不過你的方法還是有點問題，比如有個相鄰的房間由於&nbsp;</I><BR>
︰<I>&nbsp;沒人，被cleanup了，在別人再走到這間房引起載入的&nbsp;</I><BR>
︰<I>&nbsp;時候新的房間又回通向原來的room了。你明白我的意思&nbsp;</I><BR>
︰<I>&nbsp;嗎？就是說臨時的修改最好不要跨object。否則在兩邊&nbsp;</I><BR>
︰<I>&nbsp;不一致的時候就會出問題。所以我還是建議你改動那間&nbsp;</I><BR>
︰<I>&nbsp;room的short和long。這樣不跨room。&nbsp;</I><BR>
︰<I>&nbsp;呵呵，有人報不平了。*_^&nbsp;</I><BR>
︰<I>&nbsp;我不是那個意思，只是我那天剛看了縱橫的介紹，覺得&nbsp;</I><BR>
︰<I>&nbsp;很搞笑而已。有些大家都在用的技術被他們提高到了理&nbsp;</I><BR>
︰<I>&nbsp;論的高度，乍一看實在是很唬人耶。所以我當時實在是&nbsp;</I><BR>
︰<I>&nbsp;……太……興奮了！&nbsp;</I><BR>
&nbsp;<BR>
&nbsp;<BR>
--&nbsp;<BR>
小樓一夜聽秋雨&nbsp;<BR>
--&nbsp;<BR>
佇倚危樓風細細&nbsp;望極春愁&nbsp;黯黯生天際&nbsp;&nbsp;草色煙光殘照裡&nbsp;無言誰會憑欄意[0&nbsp;<BR>
擬把疏狂圖一醉&nbsp;對酒當歌&nbsp;強樂還無味&nbsp;&nbsp;衣帶漸寬終不悔&nbsp;為伊消得人憔悴&nbsp;<BR>
&nbsp;<BR>
※&nbsp;來源:•BBS&nbsp;水木清華站&nbsp;bbs.net.tsinghua.edu.cn•[FROM:&nbsp;202.99.63.76]&nbsp;<BR>
發信人:&nbsp;minux&nbsp;(minux),&nbsp;信區:&nbsp;Mud_Builder&nbsp;<BR>
標&nbsp;&nbsp;題:&nbsp;Re:&nbsp;怎麼做活動出口的ROOM?&nbsp;<BR>
發信站:&nbsp;BBS&nbsp;水木清華站&nbsp;(Sun&nbsp;Feb&nbsp;&nbsp;1&nbsp;21:40:56&nbsp;1998)&nbsp;<BR>
&nbsp;<BR>
【&nbsp;在&nbsp;tjb&nbsp;(老六)&nbsp;的大作中提到:&nbsp;】&nbsp;<BR>
︰<I>&nbsp;對呀,&nbsp;現在是有這個問題所以我重做room.c當inherit的時候添了&nbsp;</I><BR>
︰<I>&nbsp;幾個函數,&nbsp;當然新的room在create時也多了些設置項,&nbsp;我在想&nbsp;</I><BR>
︰<I>&nbsp;有沒有更好的方法,&nbsp;為了現在做的MUDLIB能用一些以前的room&nbsp;</I><BR>
︰<I>&nbsp;我現在先做了個roomdamage.c來inherit,&nbsp;做武器時看能不能&nbsp;</I><BR>
︰<I>&nbsp;damage如能就調一個函數,&nbsp;我的MUDLIB主要是有現在和未來部分&nbsp;</I><BR>
︰<I>&nbsp;所以讓大家見笑了.&nbsp;說穿了現在這個roomdamage只不過是給room&nbsp;&nbsp;</I><BR>
︰<I>&nbsp;打tick,&nbsp;前面的想法不好實現就先這麼做了&nbsp;</I><BR>
︰<I>&nbsp;xixi&nbsp;</I><BR>
︰<I>&nbsp;urs&nbsp;TJB&nbsp;</I><BR>
&nbsp;<BR>
有一個辦法，但是可靠性不強&nbsp;:((&nbsp;<BR>
就是修改一下exits的設置&nbsp;<BR>
當然相應的要改valid_leave和F_MOVE&nbsp;<BR>
使exits可以指向一個object&nbsp;<BR>
這樣的話就沒有說走到同一廢墟的問題了&nbsp;<BR>
&nbsp;<BR>
可是把exit指向object實在是有潛在的掉入VOID_OB的危險&nbsp;<BR>
&nbsp;<BR>
&nbsp;<BR>
--&nbsp;<BR>
※&nbsp;來源:•BBS&nbsp;水木清華站&nbsp;bbs.net.tsinghua.edu.cn•[FROM:&nbsp;202.116.65.17]&nbsp;<BR>
發信人:&nbsp;peacock&nbsp;(孔雀明王),&nbsp;信區:&nbsp;Mud_Builder&nbsp;<BR>
標&nbsp;&nbsp;題:&nbsp;Re:&nbsp;怎麼做活動出口的ROOM?&nbsp;<BR>
發信站:&nbsp;BBS&nbsp;水木清華站&nbsp;(Mon&nbsp;Feb&nbsp;&nbsp;2&nbsp;13:54:41&nbsp;1998)&nbsp;<BR>
&nbsp;<BR>
【&nbsp;在&nbsp;Ranma&nbsp;(亂馬~~想和你去吹吹風)&nbsp;的大作中提到:&nbsp;】&nbsp;<BR>
︰<I>&nbsp;最簡單還是直接set這間room本身，如果怕room多了麻煩，&nbsp;</I><BR>
︰<I>&nbsp;在/std/room.c裡加一個函數，比如說destroy_here()什麼的，&nbsp;</I><BR>
︰<I>&nbsp;一調這個函數，就把，這間rooom的short&nbsp;,long,objexts什麼的統統&nbsp;</I><BR>
︰<I>&nbsp;自動改掉，是不是更簡單且不容易出問題呢？&nbsp;</I><BR>
呵呵，甚合我意。其實和我說的第二個方案一樣啦，只是不存盤而已。&nbsp;<BR>
&nbsp;<BR>
至於我提出的第一方案，其實也是有用的，好好想想看，可以實現很誇&nbsp;<BR>
張的效果的。因為XO還沒實現，不能多說了，以後到XO裡看吧。&nbsp;<BR>
&nbsp;<BR>
不過我總覺得如果要等從起才能恢復，實在是不太妥當。建議tjb&nbsp;再考&nbsp;<BR>
慮考慮。&nbsp;<BR>
&nbsp;<BR>
--&nbsp;<BR>
※&nbsp;來源:•BBS&nbsp;水木清華站&nbsp;bbs.net.tsinghua.edu.cn•[FROM:&nbsp;166.111.8.129]&nbsp;<BR>
發信人:&nbsp;peacock&nbsp;(孔雀明王),&nbsp;信區:&nbsp;Mud_Builder&nbsp;<BR>
標&nbsp;&nbsp;題:&nbsp;Re:&nbsp;怎麼做活動出口的ROOM?&nbsp;<BR>
發信站:&nbsp;BBS&nbsp;水木清華站&nbsp;(Sat&nbsp;Feb&nbsp;14&nbsp;21:41:09&nbsp;1998)&nbsp;<BR>
&nbsp;<BR>
【&nbsp;在&nbsp;sunn&nbsp;(眼睛)&nbsp;的大作中提到:&nbsp;】&nbsp;<BR>
︰<I>&nbsp;請解釋得更清楚一些&nbsp;</I><BR>
︰<I>&nbsp;謝謝&nbsp;</I><BR>
你想呀，當初是為什麼要考慮存盤或者換名的問題的呢？&nbsp;<BR>
不就是因為1)牽涉到多個物體；2)可能被換出內存。&nbsp;<BR>
其中2)是問題的本源。因為如果沒採取改變原文件的措施，載&nbsp;<BR>
入時又不load，就會產生與卸除是不一致的情況。但是如果不&nbsp;<BR>
是牽涉到其他物體的話，也還是無所謂的。最多不過是還原了。&nbsp;<BR>
但是如果出口是牽涉到兩間房的。如果兩者間出現不一致就麻&nbsp;<BR>
煩了。&nbsp;<BR>
比如有三間room，一間是廢墟，另兩間與它相連。此時我們先&nbsp;<BR>
dest掉那間廢墟，然後再dest掉房間A&nbsp;。這時再重生A&nbsp;。你想&nbsp;<BR>
會出現什麼結果？B還是通向廢墟，A則通向原房間。這四個room&nbsp;<BR>
間的關係很搞笑的。當然，你還可以在A&nbsp;create時連B也考慮，&nbsp;<BR>
但是如果B&nbsp;也可能被&quot;廢墟化&quot;呢？沿著這條路走，最後你會在&nbsp;<BR>
第一個玩家進入遊戲的時候把所有的room,npc都載入內存的。:PS&nbsp;<BR>
--&nbsp;<BR>
※&nbsp;修改:•peacock&nbsp;於&nbsp;Feb&nbsp;14&nbsp;21:49:39&nbsp;修改本文•[FROM:&nbsp;&nbsp;&nbsp;166.111.8.124]&nbsp;<BR>
※&nbsp;來源:•BBS&nbsp;水木清華站&nbsp;bbs.net.tsinghua.edu.cn•[FROM:&nbsp;166.111.8.124]&nbsp;<BR>
發信人:&nbsp;minux&nbsp;(minux),&nbsp;信區:&nbsp;Mud_Builder&nbsp;<BR>
標&nbsp;&nbsp;題:&nbsp;Re:&nbsp;怎麼做活動出口的ROOM?&nbsp;<BR>
發信站:&nbsp;BBS&nbsp;水木清華站&nbsp;(Sun&nbsp;Feb&nbsp;15&nbsp;07:15:33&nbsp;1998)&nbsp;<BR>
&nbsp;<BR>
【&nbsp;在&nbsp;sunn&nbsp;(眼睛)&nbsp;的大作中提到:&nbsp;】&nbsp;<BR>
︰<I>&nbsp;可是廢墟和原房間是同一個object呀？&nbsp;</I><BR>
︰<I>&nbsp;只是由於在create時，某一個參數不同，所以房間的描述及特性變化了&nbsp;</I><BR>
︰<I>&nbsp;所以如果B通向廢墟，A還是通向廢墟的。&nbsp;</I><BR>
︰<I>&nbsp;不過這個參數也應該記錄。&nbsp;</I><BR>
︰<I>&nbsp;我想在房子毀壞的時候應該有這個參數的記錄。&nbsp;</I><BR>
&nbsp;<BR>
問題是在你取得這個參數的數值的時候會把“廢墟”的程序也編譯進內存啊&nbsp;<BR>
而且你無法確定相鄰哪些房間是廢墟，哪些不是&nbsp;<BR>
也就是說與房間所有相鄰的房間都要編譯取參數。&nbsp;<BR>
這樣就帶來一個級連效應，所有東東都LOAD進來了。&nbsp;<BR>
&nbsp;<BR>
︰<I>&nbsp;還會出現什麼問題呢？&nbsp;</I><BR>
&nbsp;<BR>
&nbsp;<BR>
也許用一個特定的DAEMON來管理所有房間，儲存所有房間的必要參數&nbsp;<BR>
可以解決這個問題&nbsp;<BR>
&nbsp;<BR>
︰<I>&nbsp;※&nbsp;修改:•sunn&nbsp;於&nbsp;Feb&nbsp;15&nbsp;01:09:51&nbsp;修改本文•[FROM:&nbsp;&nbsp;&nbsp;202.96.51.240]&nbsp;</I><BR>
︰<I>&nbsp;※&nbsp;來源:•BBS&nbsp;水木清華站&nbsp;bbs.net.tsinghua.edu.cn•[FROM:&nbsp;202.96.51.240]&nbsp;&nbsp;</I><BR>
&nbsp;<BR>
&nbsp;<BR>
--&nbsp;<BR>
※&nbsp;來源:•BBS&nbsp;水木清華站&nbsp;bbs.net.tsinghua.edu.cn•[FROM:&nbsp;202.116.36.235]&nbsp;<BR>
發信人:&nbsp;minux&nbsp;(minux),&nbsp;信區:&nbsp;Mud_Builder&nbsp;<BR>
標&nbsp;&nbsp;題:&nbsp;Re:&nbsp;怎麼做活動出口的ROOM?&nbsp;<BR>
發信站:&nbsp;BBS&nbsp;水木清華站&nbsp;(Sun&nbsp;Feb&nbsp;15&nbsp;07:15:33&nbsp;1998)&nbsp;<BR>
&nbsp;<BR>
【&nbsp;在&nbsp;sunn&nbsp;(眼睛)&nbsp;的大作中提到:&nbsp;】&nbsp;<BR>
︰<I>&nbsp;可是廢墟和原房間是同一個object呀？&nbsp;</I><BR>
︰<I>&nbsp;只是由於在create時，某一個參數不同，所以房間的描述及特性變化了&nbsp;</I><BR>
︰<I>&nbsp;所以如果B通向廢墟，A還是通向廢墟的。&nbsp;</I><BR>
︰<I>&nbsp;不過這個參數也應該記錄。&nbsp;</I><BR>
︰<I>&nbsp;我想在房子毀壞的時候應該有這個參數的記錄。&nbsp;</I><BR>
&nbsp;<BR>
問題是在你取得這個參數的數值的時候會把“廢墟”的程序也編譯進內存啊&nbsp;<BR>
而且你無法確定相鄰哪些房間是廢墟，哪些不是&nbsp;<BR>
也就是說與房間所有相鄰的房間都要編譯取參數。&nbsp;<BR>
這樣就帶來一個級連效應，所有東東都LOAD進來了。&nbsp;<BR>
&nbsp;<BR>
︰<I>&nbsp;還會出現什麼問題呢？&nbsp;</I><BR>
&nbsp;<BR>
&nbsp;<BR>
也許用一個特定的DAEMON來管理所有房間，儲存所有房間的必要參數&nbsp;<BR>
可以解決這個問題&nbsp;<BR>
&nbsp;<BR>
︰<I>&nbsp;※&nbsp;修改:•sunn&nbsp;於&nbsp;Feb&nbsp;15&nbsp;01:09:51&nbsp;修改本文•[FROM:&nbsp;&nbsp;&nbsp;202.96.51.240]&nbsp;</I><BR>
︰<I>&nbsp;※&nbsp;來源:•BBS&nbsp;水木清華站&nbsp;bbs.net.tsinghua.edu.cn•[FROM:&nbsp;202.96.51.240]&nbsp;&nbsp;</I><BR>
&nbsp;<BR>
&nbsp;<BR>
--&nbsp;<BR>
※&nbsp;來源:•BBS&nbsp;水木清華站&nbsp;bbs.net.tsinghua.edu.cn•[FROM:&nbsp;202.116.36.235]&nbsp;<BR>
發信人:&nbsp;tonylee&nbsp;(老柳),&nbsp;信區:&nbsp;Mud_Builder&nbsp;<BR>
標&nbsp;&nbsp;題:&nbsp;Re:&nbsp;怎麼做活動出口的ROOM?&nbsp;<BR>
發信站:&nbsp;BBS&nbsp;水木清華站&nbsp;(Sun&nbsp;Feb&nbsp;15&nbsp;18:39:36&nbsp;1998)&nbsp;<BR>
&nbsp;<BR>
【&nbsp;在&nbsp;Ranma&nbsp;(亂馬~~想和你去吹吹風)&nbsp;的大作中提到:&nbsp;】&nbsp;<BR>
︰<I>&nbsp;給相連接的room&nbsp;set(&quot;no_clean,up&quot;,1)就行了，&nbsp;</I><BR>
︰<I>&nbsp;指向的方法，不知你(tjb)想過沒有，至少還有兩個嚴重的問題，&nbsp;</I><BR>
︰<I>&nbsp;1.廢墟的room只有一個，如果你有兩處廢墟，分別走到兩處廢墟的玩家可就殊途同歸，&nbsp;</I><BR>
︰<I>&nbsp;大家穿梭時空，走到一起會合了，&nbsp;</I><BR>
︰<I>&nbsp;2.同樣，這間廢墟的出口怎麼設？到底通到什麼地方去呢？&nbsp;</I><BR>
︰<I>&nbsp;這兩個問題其實是一個問題，就是room是load-object進內存，&nbsp;</I><BR>
︰<I>&nbsp;而不是new進內存的，在內存裡，room只能有一個副本，這和&nbsp;</I><BR>
︰<I>&nbsp;char與item不同，如果room也是new進內存的話，那可&nbsp;</I><BR>
︰<I>&nbsp;真是四度空間了，兩個玩家明明走到同一間room，卻怎麼著&nbsp;</I><BR>
︰<I>&nbsp;也見不到了&nbsp;</I><BR>
room&nbsp;當然可以new了(我想，xo的新房就是利用了&nbsp;這一點巴&nbsp;&nbsp;，－－偷懶的傢伙們)&nbsp;<BR>
我想用類似遞歸的方法從同一個xxxroom.c&nbsp;new出一條街來，但是想想就有很多問題&nbsp;<BR>
甚至可能會crash&nbsp;<BR>
看來從寫個room的類&nbsp;會省事的多(加個動態響應某個可以被別的房間呼叫的參數，&nbsp;<BR>
用這個參數來控制改變自己的exits，令它指向我需要的(內存中的)同類房間&nbsp;<BR>
(但是這個怎麼完成呀?我的天!)&nbsp;<BR>
並且系統clean_up時判斷房間若不能被clean_up&nbsp;就重設它和其他被clean_up房間&nbsp;<BR>
的通路&nbsp;<BR>
不知道這樣行不行(倒是我知道，現在我搞不定這個方案是真的....sigh)&nbsp;<BR>
&nbsp;<BR>
&nbsp;<BR>
--&nbsp;<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;★★★★★★★★★★oooo&nbsp;<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;★就愛找BUGS的老柳★oooo&nbsp;<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;★★★★★★★★★★oooo&nbsp;&nbsp;&nbsp;&nbsp;<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;區子曰直者近也&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;歐幾里德說過兩點之間直線最近&nbsp;&nbsp;&nbsp;<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<BR>
&nbsp;<BR>
※&nbsp;來源:•BBS&nbsp;水木清華站&nbsp;bbs.net.tsinghua.edu.cn•[FROM:&nbsp;tc59.cic.tsingh]&nbsp;<BR>
<A HREF="00000017.htm">上一篇</A>
<A HREF='javascript:history.go(-1)'>返回上一頁</A>
<A HREF="index.htm">回到目錄</A>
<A HREF="#top">回到頁首</A>
<A HREF="00000019.htm">下一篇</A>
</H1></CENTER>
<CENTER><H1>BBS水木清華站︰精華區</H1></CENTER>
</BODY></HTML>