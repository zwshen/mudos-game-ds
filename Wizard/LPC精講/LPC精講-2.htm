
<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<HTML><HEAD><TITLE>網蟲樂園--泥潭風雲</TITLE>
<META content="MSHTML 5.00.2919.6307" name=GENERATOR>
<META content=TLT name=Author>
<META content=text/html;charset=big5 http-equiv=content-type>
<style>
<!--      
A:link {text-decoration: none;color:blue}       
.105V         {font-size: 10.5pt; font-family: 宋體;}
TD          {font-size: 9pt; font-family: 宋體;}
.90V         {font-size: 9pt; font-family: 宋體;}
.90VE         {font-size: 9pt; font-family: arial;}
A:hover      {text-decoration: none;color:red;}
A:visited  {text-decoration: none;}
A:active     {text-decoration: none;color:#ff0000}
-->
</style>


<script>
<!--
lstart=50
loop=true
speed=350 
pr_step=5 

function makeObj(obj,nest){
nest=(!nest) ? '':'document.'+nest+'.'
this.css=(document.layers) ? eval(nest+'document.'+obj):eval(obj+'.style')
    this.scrollHeight=document.layers?this.css.document.height:eval(obj+'.offsetHeight')
    this.up=goUp
this.obj = obj + "Object"
eval(this.obj + "=this")
return this
}
function goUp(speed){
    if(parseInt(this.css.top)>-this.scrollHeight){
        this.css.top=parseInt(this.css.top)-pr_step
        setTimeout(this.obj+".up("+speed+")",speed)
    }else if(loop) {
        this.css.top=lstart
        eval(this.obj+".up("+speed+")")
    }
}
function slideInit(){
    oSlide=makeObj('divNews','divCont')
    oSlide.css.top=lstart
    oSlide.up(speed)
}
onload=slideInit
//-->
</script></head>

<body aLink="#660033" bgColor="#ffffff" leftMargin="0" text=darkgreen link="#000066" vLink="#000066"
topMargin="0" >
<div align="center"><center>
   <table border="1" width="776" borderColor=#ffffff borderColorLight=#ab9c36  align="center" bgColor=#f0f3dc cellPadding=0 cellSpacing=0 >
      <tr>
        <td align="center" width="97"><P align=center><img src=http://202.114.98.14/images/home.gif width=15 height=15><a href=http://202.114.98.14/>網蟲樂園首頁</a></td> 
        <td align="center" width="97"><P align=center><img src=http://202.114.98.14/images/soft.gif height=15 width=15 border=0><a href="http://202.114.98.12/softroom/">軟件大觀園</a></td>
        <td align="center" width="97"><P align=center><img src=http://202.114.98.14/images/mud.gif height=15 width=15 border=0><a href="http://202.114.98.14/mud/">泥潭風雲</font></a></td>
        <td align="center" width="97"><P align=center><img src=http://202.114.98.14/images/freeweb.gif height=15 width=15 border=0><a href="http://202.114.98.14/freeweb/">個人主頁空間</a></td>  
        <td align="center" width="97"><P align=center><img src=http://202.114.98.14/images/bbs.gif height=15 width=15 border=0><a href=http://202.114.98.14/bbs/>網蟲社區</a></td>
        <td align="center" width="97"><P align=center><img src=http://202.114.98.14/images/webresource.gif height=15 width=15 border=0><a href="http://202.114.98.14/webresource/">Web資源角</a></td>
        <td align="center" width="97"><P align=center><img src=http://202.114.98.14/images/show.gif height=15 width=15 border=0><a href="#" onclick="window.open('http://202.114.98.14/show/','','menubar=no,toolbar=no,location=no,directories=no,status=no,resizable=1,scrollbars=1,width=800,height=600,top=0,left=0');">秀網珍藏</a></td>
        <td align="center" width="97"><P align=center><img src=http://202.114.98.14/images/links1.gif height=15 width=15 border=0><a href=http://202.114.98.14/links/>友情鏈接</a></td>
      </tr>
    </table></center>

<table bgcolor=white width=770 border=1 borderColor=#ffffff borderColorLight=#ab9c36   cellpadding=0 cellspacing=0>
   <tr><td><table bgcolor=white width=770 border=0 cellpadding=0 cellspacing=0>
   <tr><td width=180 height=60><img src=http://202.114.98.14/images/netbugs1.gif width=180 height=60></td>
   <td align=center width=468 valign=center  bgcolor=white><script src="http://202.114.98.14/ad1.js" width=468 height=60 border=0></script></td>
   <td width=112 bgcolor=white><div id="divCont"
style="position:absolute; width:110; height:60; top:25; left:660; clip:rect(0,110,60,0)"><div
id="divNews" style="position:absolute; top:0; left:0">

<p>歡迎光臨網蟲樂園！<a href=http://202.114.98.14/>首頁</a>有網站各子站最新變動介紹和
教育網酷站連接。<p><a href=http://202.114.98.12/softroom/>軟件大觀園</a>每日更新；收藏3G軟件，均為最新版本。
<p><a href=http://202.114.98.14/mud>泥潭風雲</a>是教育網內最大的mud站點；<a href=http://202.114.98.14/webresource>Web資源角</a>有三千多動畫和背景為你網頁增添色彩。
<p><a href=http://202.114.98.14/freeweb/>10M免費個人主頁空間</a>，ftp維護；申請三日內批准。<p><a href=http://202.114.98.14/show>秀網珍藏</a>圖片近2G，欄目眾多，包羅萬像，每日都有大量圖片增加。
<p>對我們網站的建設的建議歡迎<a href=mailto:softroom@wuhee.edu.cn>來信</a>或寫在<a href=http://202.114.98.14/bbs>社區</a>內。</p>
</div></div>
</td>
   </tr>
   </table>
</td></tr></table>

<center>
   <table border="1" width="770" borderColor=#ffffff borderColorLight=#ab9c36  align="center" bgColor=#f0f3dc cellPadding=0 cellSpacing=0 >
      <tr>
        <td align="center" width="96"><P align=center><A href="http://202.114.98.14/mud/index.htm">首頁</A></td> 
        <td align="center" width="96"><P align=center><A href="http://202.114.98.14/mud/newcomer/">泥巴入門</A></td>
        <td align="center" width="96"><P align=center><A href="http://202.114.98.14/mud/player/">泥巴進階</A></td>
        <td align="center" width="96"><P align=center><A href="http://202.114.98.14/mud/source/">泥巴資源</A></td>  
        <td align="center" width="96"><P align=center><A 
        href="http://202.114.98.14/mud/pmud/">圖形泥巴</A></td>
        <td align="center" width="96"><P align=center><A href="http://202.114.98.14/mud/mudlife/">泥巴人生</A></td>
        <td align="center" width="96"><P align=center><A href="http://202.114.98.14/mud/wiz/">巫師樂園</FONT></A></td>
        <td align="center" width="96"><P align=center><A href="http://202.114.98.14/mud/download/">軟件下載</A>            <SCRIPT>
   document.write("<a href=http://webpub.au.tsinghua.edu.cn/count/count.dll?Type=Basic&id=2138&ReferID=2138 target=_blank>");
   document.write("<img src=http://webpub.au.tsinghua.edu.cn/count/count.dll?Type=Img2&add=1&id=2138&refer="+escape(top.document.referrer)+" border=0 alt=酷站今日訪問 width=12 height=12>");
   </SCRIPT></td>

      </tr>
    </table></center>
    


<table border="0" width="100%" style="color: rgb(255,255,0)" cellspacing="0" cellpadding="0">
  <tr>
    <td width="8%" rowspan="4"></td>
    <td width="83%"><p align="center"><font color="#000000">LPC語言<br>
    –––––––––––––––––––––<br>
    <font size="2">綜合地介紹MUD編程語言（LPC）<br>
    –––––––––––––––––––––––––</font></font></td>
    <td width="9%" rowspan="4"></td>
  </tr>
  <tr>
    <td width="83%"><p align="center"><font color="#000000">LPC語言精講（2）</td>
  </tr>
  <tr>
    <td width="83%"><font color="#000000">第一章 Lpc程序和編程環境<br>
    第一節，編程環境<br>
    通常我們所見到的Mud大多是LpMud。LpMuds使用Unix的指令和<br>
    文件結構。如果你對Unix有所了解，那麼LpMud中的一些指令和它的文件結構與普通的Unix基本一樣。如果你從未使用過Unix，那麼它Dos不同的是在文件的路徑用&quot;/&quot;，而不是Dos的&quot;\&quot;.一個典型的LpMud的文件是這樣的:<br>
    /clone/player/player.c<br>
    &quot;/clone/player/&quot;是路徑，player.c是文件名。在多數的LpMud中，下面這些的基本的Unix指令是可以使用的：<br>
    pwd, cd, ls, rm, mv, cp, mkdir, rmdir, more, tail, cat, ed如果從未使用過Unix，那麼下面這張表也許是有用的。<br>
    pwd: 顯示當前目錄cd: 改換你當前的工作目錄，和Dos的cd一樣。<br>
    ls: 
    列出指定目錄下的所有文件，如果沒有指定任何目錄，那就列出當前目錄底下的文件。和Dos的dir一樣。<br>
    rm: 刪除一個文件 和Dos的rmdir一樣<br>
    mv: 從命名一個文件 和Dos的move一樣<br>
    cp: 復制一個文件 和Dos的copy一樣<br>
    mkdir: 創建一個目錄<br>
    rmdir: 刪除一個目錄<br>
    more: 按頁顯示一個文件在你的當前屏幕。<br>
    cat: 顯示整個文件。和Dos的type一樣。<br>
    tail: 現在一個文件的結尾幾行。<br>
    ed: 允許你使用Mud自帶的編輯器，編輯一個文件。<br>
   <br>
    第二節 Lpc程序<br>
    2.1 Lpc程序。<br>
    Lpc的程序看起來和一般的C區別不斷大，語法基本一樣，但是<br>
    Lpc和一般的語言有著根本的不同，Lpc程序是編寫一個一個的&quot;Object&quot;。這有什麼區別呢？一般的程序是在執行過程中，通常有一個明顯的開始和和結束。程序從一個地方開始，然後順序執行下去，到了結束的地方就中斷了。Lpc的Object不是這樣的。所謂的不同的Mud，實際上是一些不同的Lpc的Object在一個Driver的上的各種不同的表現。也就說，Lpc的Object是運行在一個Driver上的。這些Object組成了LpMud的豐富多彩的世界。Driver幾乎不參與創建你所接觸到的世界，它所完成的工作只是讓那些Lpc的Object活動起來。Lpc的Object可能沒有明顯的開始和結束的標誌，它可能永遠在工作。 
    和一般的程序一樣，Lpc“程序”也是由一個或多個文件組成。一個Lpc的Object是按如下方式被執行的：Driver把和這個Object相關的文件讀入內存，然後解釋執行。但是要記住的是，讀入內存，並不是說，它就開始按順序執行。<br>
    2.2 Driver和Mudlib關係<br>
    在有些遊戲中，整個遊戲包括Driver和遊戲世界都用C寫好，這樣能快一些，但是遊戲的擴充性很差，巫師們不可能在遊戲進行中添加任何東西。LpMud則相反。Driver理論上應該和玩家所接觸的世界幾乎沒有任何直接的聯繫。遊戲世界應該是自己獨立的，而且是“即玩即加”的。這就是為什麼LpMud使用Lpc作為編程語言的原因。它允許你創建一個遊戲世界，再由Driver在需要時讀入解釋執行。Lpc甚至比C更簡單，更容易明白，但是它可以創建一個可以讓許多人在上面遊戲的世界。在你寫完一個Lpc的文件時，它存在於主機的硬盤上。在遊戲進行中，當需要整個Object時，這份文件將被調入內存，一個特殊的函數被調用來初始化這個Object的一些變量。現在你不用關心什麼是<br>
    變量，什麼是函數以及遊戲本身怎樣來調用這個object，你只要記住Driver從硬盤中讀入一個文件，然後放在內存中，如果沒有任何錯誤的話。<br>
    2.3 一個Object被裝人內存。<br>
    一個Object不會也不必有一個特點的地方讓Driver去執行它，通常Drvier會在Object中找一個地方去初始化它。一般都是這個函數叫做create()。Lpc的Object是一些變量(它的值能變化)和函數(函數通常是用來操縱那些變量的一段程序)的組合。函數操縱變量的方式有：調用其他函數，使用Driver內部定義的函數(efun)，基本的Lpc表達式以及流控制。我們來看個變量的例子: 
    wiz_level。這個變量記錄你的巫師等級，如果是0呢，通常是普普通通的玩家了。這個值如果越大就表示你的巫師等級越高。這個也同時控制了你能不能執行一些巫師指令。基本上來說，一個Object就是一些變量“堆”在一起的東西。一個Object改變了，也就是某一個或者一些變量改變了。總的來說，一個Object如果要被內存中的另一個Object調用，Driver會去找這個Object的那堆變量放在哪裡，如果這些變量沒有值，那麼Driver會調用一個特定的函數create來初始化這些變<br>
    量。但是create()不是Lpc代碼開始執行的地方，只是大多數的Object從這裡開始。事實上，create()可以不存在。如果這個Object不需要對變量初始化，那麼create()可以不存在。那麼這樣的Object開始執行的地方就完全的不同於一般的Object，可以從任何地方開始。那麼究竟什麼是Lpc的Object？Lpc的Object就是一堆變量的集合，它帶有一個或者更多的函數來操縱控制這些變量，函數的排列順序是無所謂的，隨便那個排在前面對這個Object的特性沒有影響。</td>
  </tr>
  <tr>
    <td width="83%"><p align="center"><a href="lpc_1.asp">上一篇</a> 
    &nbsp;&nbsp;&nbsp;&nbsp; <a href="lpc_3.asp">下一篇</a></td>
  </tr>
</table>
   <TABLE border=0 cellPadding=0 cellSpacing=0 width=730>
  <TBODY>
  <TR>
    <TD bgColor=#000033 colSpan=3 height=2>
    </TD>
  </TR>
  </TBODY>
</TABLE>
<P>
<CENTER><FONT color=#919191 face=ARIAL,HELVETICA size=-1>對我們網站的建議和合作請與<A 
href="mailto:softroom@wuhee.edu.cn">mailto:softroom@wuhee.edu.cn</A>聯繫.<BR><BR>Copyright 
(C) 2000 網蟲樂園工作室.<script src="http://202.114.98.14/count.js" width=468 height=60 border=0></script></FONT>
<P></P></CENTER></CENTER></CENTER></DIV></BODY></HTML>
